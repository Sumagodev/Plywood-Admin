(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[71],{1481:function(e,a,t){},1826:function(e,a,t){"use strict";t.r(a);var l=t(1),s=t(4),c=t.n(s),n=t(105),r=t(1708),i=t(1475),d=t(1090),o=t(1478),b=t(1480),m=t(40),j=t(998),h=t(12);const u=e=>{const a=Object(l.useRef)(null),{store:t,isRtl:s,dispatch:c,calendarsColor:u,calendarApi:v,setCalendarApi:p,handleAddEventSidebar:O,blankEvent:x,toggleSidebar:g,selectEvent:f,updateEvent:N}=e;Object(l.useEffect)((()=>{null===v&&p(a.current.getApi())}),[v]);const y={events:t.events.length?t.events:[],plugins:[b.a,d.b,o.a,i.a],initialView:"dayGridMonth",headerToolbar:{start:"sidebarToggle, prev,next, title",end:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},editable:!0,eventResizableFromStart:!0,dragScroll:!0,dayMaxEvents:2,navLinks:!0,eventClassNames(e){let{event:a}=e;return[`bg-light-${u[a._def.extendedProps.calendar]}`]},eventClick(e){let{event:a}=e;c(f(a)),O()},customButtons:{sidebarToggle:{text:Object(h.jsx)(j.a,{className:"d-xl-none d-block"}),click(){g(!0)}}},dateClick(e){const a=x;a.start=e.date,a.end=e.date,c(f(a)),O()},eventDrop(e){let{event:a}=e;c(N(a)),m.b.success("Event Updated")},eventResize(e){let{event:a}=e;c(N(a)),m.b.success("Event Updated")},ref:a,direction:s?"rtl":"ltr"};return Object(h.jsx)(n.l,{className:"shadow-none border-0 mb-0 rounded-0",children:Object(h.jsxs)(n.m,{className:"pb-0",children:[Object(h.jsx)(r.a,{...y})," "]})})};var v=Object(l.memo)(u),p=t(767);const O=[{label:"Personal",color:"danger",className:"form-check-danger mb-1"},{label:"Business",color:"primary",className:"form-check-primary mb-1"},{label:"Family",color:"warning",className:"form-check-warning mb-1"},{label:"Holiday",color:"success",className:"form-check-success mb-1"},{label:"ETC",color:"info",className:"form-check-info"}];var x=e=>{const{handleAddEventSidebar:a,toggleSidebar:t,updateFilter:s,updateAllFilters:r,store:i,dispatch:d}=e;return Object(h.jsxs)(l.Fragment,{children:[Object(h.jsxs)("div",{className:"sidebar-wrapper",children:[Object(h.jsx)(n.m,{className:"card-body d-flex justify-content-center my-sm-0 mb-3",children:Object(h.jsx)(n.i,{color:"primary",block:!0,onClick:()=>{t(!1),a()},children:Object(h.jsx)("span",{className:"align-middle",children:"Add Event"})})}),Object(h.jsxs)(n.m,{children:[Object(h.jsx)("h5",{className:"section-label mb-1",children:Object(h.jsx)("span",{className:"align-middle",children:"Filter"})}),Object(h.jsxs)("div",{className:"form-check mb-1",children:[Object(h.jsx)(n.K,{id:"view-all",type:"checkbox",label:"View All",className:"select-all",checked:i.selectedCalendars.length===O.length,onChange:e=>d(r(e.target.checked))}),Object(h.jsx)(n.N,{className:"form-check-label",for:"view-all",children:"View All"})]}),Object(h.jsx)("div",{className:"calendar-events-filter",children:O.length&&O.map((e=>Object(h.jsxs)("div",{className:c()("form-check",{[e.className]:e.className}),children:[Object(h.jsx)(n.K,{type:"checkbox",label:e.label,className:"input-filter",id:`${e.label}-event`,checked:i.selectedCalendars.includes(e.label),onChange:()=>{d(s(e.label))}},e.label),Object(h.jsx)(n.N,{className:"form-check-label",for:`${e.label}-event`,children:e.label})]},`${e.label}-key`)))})]})]}),Object(h.jsx)("div",{className:"mt-auto",children:Object(h.jsx)("img",{className:"img-fluid",src:p.default,alt:"illustration"})})]})},g=t(529),f=t(914),N=t(547),y=t.n(N),E=t(628),C=t(536),k=t(559),w=t.n(k),D=t(533),S=t(530),A=t(42),F=t(87),P=t(86),B=t(110),R=t(55),T=t(295);t(534),t(546);var L=e=>{const{open:a,store:t,dispatch:s,addEvent:c,calendarApi:r,selectEvent:i,updateEvent:d,removeEvent:o,refetchEvents:b,calendarsColor:j,handleAddEventSidebar:u}=e,v=t.selectedEvent,{control:p,setError:O,setValue:x,getValues:N,handleSubmit:k,formState:{errors:L}}=Object(D.e)({defaultValues:{title:""}}),[U,V]=Object(l.useState)(""),[G,H]=Object(l.useState)(""),[K,M]=Object(l.useState)({}),[$,z]=Object(l.useState)(!1),[J,q]=Object(l.useState)(""),[I,Y]=Object(l.useState)(new Date),[Q,W]=Object(l.useState)(new Date),[_,X]=Object(l.useState)([{value:"Business",label:"Business",color:"primary"}]),Z=[{value:"Donna Frank",label:"Donna Frank",avatar:A.default},{value:"Jane Foster",label:"Jane Foster",avatar:F.default},{value:"Gabrielle Robertson",label:"Gabrielle Robertson",avatar:P.default},{value:"Lori Spears",label:"Lori Spears",avatar:B.default},{value:"Sandy Vega",label:"Sandy Vega",avatar:R.default},{value:"Cheryl May",label:"Cheryl May",avatar:T.default}],ee=()=>{if(N("title").length){const e={id:v.id,title:N("title"),allDay:$,start:Q,end:I,url:U,display:!1===$?"block":void 0,extendedProps:{location:J,description:G,guests:K,calendar:_[0].label}},a=["id","title","url"],t=["calendar","guests","location","description"];s(d(e)),((e,a,t)=>{const l=r.getEventById(e.id);for(let s=0;s<a.length;s++){const t=a[s];l.setProp(t,e[t])}l.setDates(new Date(e.start),new Date(e.end),{allDay:e.allDay});for(let s=0;s<t.length;s++){const a=t[s];l.setExtendedProp(a,e.extendedProps[a])}})(e,a,t),u(),m.b.success("Event Updated")}else O("title",{type:"manual"})},ae=()=>{var e;s(o(v.id)),e=v.id,r.getEventById(e).remove(),u(),m.b.error("Event Removed")},te=()=>Object(S.f)(v)||!Object(S.f)(v)&&!v.title.length?Object(h.jsxs)(l.Fragment,{children:[Object(h.jsx)(n.i,{className:"me-1",type:"submit",color:"primary",children:"Add"}),Object(h.jsx)(n.i,{color:"secondary",type:"reset",onClick:u,outline:!0,children:"Cancel"})]}):Object(h.jsxs)(l.Fragment,{children:[Object(h.jsx)(n.i,{className:"me-1",color:"primary",onClick:ee,children:"Update"}),Object(h.jsx)(n.i,{color:"danger",onClick:ae,outline:!0,children:"Delete"})]}),le=Object(h.jsx)(f.a,{className:"cursor-pointer",size:15,onClick:u});return Object(h.jsxs)(n.Q,{isOpen:a,className:"sidebar-lg",toggle:u,onOpened:()=>{if(!Object(S.f)(v)){const e=v.extendedProps.calendar,a=()=>e.length?{label:e,value:e,color:j[e]}:{value:"Business",label:"Business",color:"primary"};x("title",v.title||N("title")),z(v.allDay||$),V(v.url||U),q(v.extendedProps.location||J),H(v.extendedProps.description||G),M(v.extendedProps.guests||K),W(new Date(v.start)),Y(v.allDay?new Date(v.start):new Date(v.end)),X([a()])}},onClosed:()=>{s(i({})),x("title",""),z(!1),V(""),q(""),H(""),M({}),X([{value:"Business",label:"Business",color:"primary"}]),W(new Date),Y(new Date)},contentClassName:"p-0 overflow-hidden",modalClassName:"modal-slide-in event-sidebar",children:[Object(h.jsx)(n.T,{className:"mb-1",toggle:u,close:le,tag:"div",children:Object(h.jsxs)("h5",{className:"modal-title",children:[v&&v.title&&v.title.length?"Update":"Add"," Event"]})}),Object(h.jsx)(w.a,{options:{wheelPropagation:!1},children:Object(h.jsx)(n.R,{className:"flex-grow-1 pb-sm-0 pb-3",children:Object(h.jsxs)(n.H,{onSubmit:k((e=>{e.title.length?Object(S.f)(L)&&(Object(S.f)(v)||!Object(S.f)(v)&&!v.title.length?(()=>{const e={title:N("title"),start:Q,end:I,allDay:$,display:"block",extendedProps:{calendar:_[0].label,url:U.length?U:void 0,guests:K.length?K:void 0,location:J.length?J:void 0,desc:G.length?G:void 0}};s(c(e)),b(),u(),m.b.success("Event Added")})():ee(),u()):O("title",{type:"manual"})})),children:[Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsxs)(n.N,{className:"form-label",for:"title",children:["Title ",Object(h.jsx)("span",{className:"text-danger",children:"*"})]}),Object(h.jsx)(D.a,{name:"title",control:p,render:e=>{let{field:a}=e;return Object(h.jsx)(n.K,{id:"title",placeholder:"Title",invalid:L.title&&!0,...a})}})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(n.N,{className:"form-label",for:"label",children:"Label"}),Object(h.jsx)(C.a,{id:"label",value:_,options:[{value:"Business",label:"Business",color:"primary"},{value:"Personal",label:"Personal",color:"danger"},{value:"Family",label:"Family",color:"warning"},{value:"Holiday",label:"Holiday",color:"success"},{value:"ETC",label:"ETC",color:"info"}],theme:S.i,className:"react-select",classNamePrefix:"select",isClearable:!1,onChange:e=>X([e]),components:{Option:e=>{let{data:a,...t}=e;return Object(h.jsxs)(E.p.Option,{...t,children:[Object(h.jsx)("span",{className:`bullet bullet-${a.color} bullet-sm me-50`}),a.label]})}}})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(n.N,{className:"form-label",for:"startDate",children:"Start Date"}),Object(h.jsx)(y.a,{required:!0,id:"startDate",name:"startDate",className:"form-control",onChange:e=>W(e[0]),value:Q,options:{enableTime:!1===$,dateFormat:"Y-m-d H:i"}})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(n.N,{className:"form-label",for:"endDate",children:"End Date"}),Object(h.jsx)(y.a,{required:!0,id:"endDate",name:"endDate",className:"form-control",onChange:e=>Y(e[0]),value:I,options:{enableTime:!1===$,dateFormat:"Y-m-d H:i"}})]}),Object(h.jsxs)("div",{className:"form-switch mb-1",children:[Object(h.jsx)(n.K,{id:"allDay",type:"switch",className:"me-1",checked:$,name:"customSwitch",onChange:e=>z(e.target.checked)}),Object(h.jsx)(n.N,{className:"form-label",for:"allDay",children:"All Day"})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(n.N,{className:"form-label",for:"eventURL",children:"Event URL"}),Object(h.jsx)(n.K,{type:"url",id:"eventURL",value:U,onChange:e=>V(e.target.value),placeholder:"https://www.google.com"})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(n.N,{className:"form-label",for:"guests",children:"Guests"}),Object(h.jsx)(C.a,{isMulti:!0,id:"guests",className:"react-select",classNamePrefix:"select",isClearable:!1,options:Z,theme:S.i,value:K.length?[...K]:null,onChange:e=>M([...e]),components:{Option:e=>{let{data:a,...t}=e;return Object(h.jsx)(E.p.Option,{...t,children:Object(h.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(h.jsx)(g.a,{className:"my-0 me-1",size:"sm",img:a.avatar}),Object(h.jsx)("div",{children:a.label})]})})}}})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(n.N,{className:"form-label",for:"location",children:"Location"}),Object(h.jsx)(n.K,{id:"location",value:J,onChange:e=>q(e.target.value),placeholder:"Office"})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(n.N,{className:"form-label",for:"description",children:"Description"}),Object(h.jsx)(n.K,{type:"textarea",name:"text",id:"description",rows:"3",value:G,onChange:e=>H(e.target.value),placeholder:"Description"})]}),Object(h.jsx)("div",{className:"d-flex mb-1",children:Object(h.jsx)(te,{})})]})})})]})},U=t(588),V=t(143),G=t(190);t(1481);const H={Business:"primary",Holiday:"success",Personal:"danger",Family:"warning",ETC:"info"};a.default=()=>{const e=Object(V.b)(),a=Object(V.c)((e=>e.calendar)),[t,s]=Object(l.useState)(null),[r,i]=Object(l.useState)(!1),[d,o]=Object(l.useState)(!1),[b]=Object(U.a)(),m=()=>i(!r),j=e=>o(e);return Object(l.useEffect)((()=>{e(Object(G.c)(a.selectedCalendars))}),[]),Object(h.jsxs)(l.Fragment,{children:[Object(h.jsx)("div",{className:"app-calendar overflow-hidden border",children:Object(h.jsxs)(n.ib,{className:"g-0",children:[Object(h.jsx)(n.B,{id:"app-calendar-sidebar",className:c()("col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column",{show:d}),children:Object(h.jsx)(x,{store:a,dispatch:e,updateFilter:G.h,toggleSidebar:j,updateAllFilters:G.f,handleAddEventSidebar:m})}),Object(h.jsx)(n.B,{className:"position-relative",children:Object(h.jsx)(v,{isRtl:b,store:a,dispatch:e,blankEvent:{title:"",start:"",end:"",allDay:!1,url:"",extendedProps:{calendar:"",guests:[],location:"",description:""}},calendarApi:t,selectEvent:G.e,updateEvent:G.g,toggleSidebar:j,calendarsColor:H,setCalendarApi:s,handleAddEventSidebar:m})}),Object(h.jsx)("div",{className:c()("body-content-overlay",{show:!0===d}),onClick:()=>j(!1)})]})}),Object(h.jsx)(L,{store:a,dispatch:e,addEvent:G.a,open:r,selectEvent:G.e,updateEvent:G.g,removeEvent:G.d,calendarApi:t,refetchEvents:()=>{null!==t&&t.refetchEvents()},calendarsColor:H,handleAddEventSidebar:m})]})}},546:function(e,a,t){},767:function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/calendar-illustration.42be42ce.png"}}]);
//# sourceMappingURL=71.f6101ac9.chunk.js.map
(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[172],{1826:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(137),l=(a(501),a(139),a(170)),r=a(870),n=a(871),i=a(884),d=a(102),o=a(46),j=a(3),b=a(138),m=a(504),u=a.n(m),p=a(506),h=a.n(p),O=(a(502),a(505),a(509),a(519)),g=a(12);const v=e=>{let{store:t,toggleSidebar:a,handlePerPage:s,rowsPerPage:l,handleFilter:r,searchTerm:n}=e;return Object(g.jsx)("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:Object(g.jsxs)(d.ib,{children:[Object(g.jsx)(d.B,{xl:"6",className:"d-flex align-items-center p-0",children:Object(g.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(g.jsx)("label",{htmlFor:"rows-per-page",children:"Show"}),Object(g.jsxs)(d.K,{className:"mx-50",type:"select",id:"rows-per-page",value:l,onChange:s,style:{width:"5rem"},children:[Object(g.jsx)("option",{value:"10",children:"10"}),Object(g.jsx)("option",{value:"25",children:"25"}),Object(g.jsx)("option",{value:"50",children:"50"}),Object(g.jsx)("option",{value:"100",children:"100"}),Object(g.jsx)("option",{value:"500",children:"500"})]}),Object(g.jsx)("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),Object(g.jsxs)(d.B,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[Object(g.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[Object(g.jsx)("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),Object(g.jsx)(d.K,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:n,onChange:e=>r(e.target.value)})]}),Object(g.jsx)("div",{className:"d-flex align-items-center table-header-actions",children:Object(g.jsx)(c.b,{to:"/products/add-products",className:"add-new-user btn btn-primary",color:"primary",children:"Add New"})})]})]})})};var x=()=>{const e=Object(b.b)(),t=Object(b.c)((e=>e.products)),[a,m]=(Object(b.c)((e=>e.products.allData)),Object(s.useState)("desc")),[p,x]=Object(s.useState)(""),[N,f]=Object(s.useState)(1),[C,w]=Object(s.useState)("id"),[P,k]=Object(s.useState)(10),[y,S]=Object(s.useState)(!1),[_,E]=Object(s.useState)({value:"",label:"Select Role"}),[F,D]=Object(s.useState)({value:"",label:"Select Status",number:0}),[$,q]=Object(s.useState)([]),T=()=>S(!y),A=async(t,s)=>{try{const c={approved:s},{data:r}=await Object(o.g)(c,t);r.message&&Object(j.b)(r.message),e(Object(l.d)({sort:a,sortColumn:C,q:p,perPage:P,page:N,role:_.value,status:F.value}))}catch(c){Object(j.a)(c)}};Object(s.useEffect)((()=>{e(Object(l.d)({sort:a,sortColumn:C,q:p,perPage:P,page:N,role:_.value,status:F.value}))}),[]),Object(s.useEffect)((()=>{const e=Object.values(O.a).map((e=>({label:e,value:e})));q(e)}),[e,t.data.length,a,C,N]);Object(s.useEffect)((()=>{null!==t.selectedCategory&&T()}),[t.selectedCategory]);const R={pending:"light-warning",active:"light-success",inactive:"light-secondary"},K=[{name:"Name",sortable:!0,sortField:"name",width:"20%",cell:e=>e.name},{name:"Price",sortable:!0,sortField:"Price",width:"10%",cell:e=>e.price},{name:"Status",sortable:!0,sortField:"status",selector:e=>e.status,width:"10%",cell:e=>Object(g.jsx)(d.f,{style:{cursor:"pointer"},className:"text-capitalize",onClick:a=>{a.preventDefault(),t.dispatch(Object(l.f)({status:!e.status,id:e._id}))},color:R[!0===e.status?"active":"inactive"],pill:!0,children:!0===e.status?"active":"inactive"})},{name:"Actions",width:"40%",cell:e=>Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[Object(g.jsxs)("div",{className:"form-check form-check-inline me-2",children:[Object(g.jsx)(d.K,{type:"radio",name:`status-${e._id}`,id:`approved-${e._id}`,checked:"APPROVED"===e.approved,onChange:()=>A(e._id,"APPROVED")}),Object(g.jsx)(d.N,{for:`approved-${e._id}`,className:"form-check-label",children:"Approved"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline me-2",children:[Object(g.jsx)(d.K,{type:"radio",name:`status-${e._id}`,id:`pending-${e._id}`,checked:"PENDING"===e.approved,onChange:()=>A(e._id,"PENDING")}),Object(g.jsx)(d.N,{for:`pending-${e._id}`,className:"form-check-label",children:"Pending"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)(d.K,{type:"radio",name:`status-${e._id}`,id:`rejected-${e._id}`,checked:"REJECTED"===e.approved,onChange:()=>A(e._id,"REJECTED")}),Object(g.jsx)(d.N,{for:`rejected-${e._id}`,className:"form-check-label",children:"Rejected"})]})]})})},{name:"Actions",width:"10%",cell:e=>Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(c.b,{color:"primary",to:`/products/edit-product/${e._id}`,className:"btn-sm ms-2  btn-primary",onClick:()=>{t.dispatch(Object(l.d)(e._id))},children:["     ",Object(g.jsx)(r.a,{size:14})]}),Object(g.jsxs)(d.i,{color:"danger",className:"ms-2 btn-sm",onClick:a=>{a.preventDefault(),t.dispatch(Object(l.c)(e._id))},children:["    ",Object(g.jsx)(n.a,{size:14})]})]})}];return Object(g.jsx)(s.Fragment,{children:Object(g.jsx)(d.l,{className:"overflow-hidden",children:Object(g.jsx)("div",{className:"react-dataTable",children:Object(g.jsx)(h.a,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,paginationServer:!0,responsive:!0,paginationComponent:()=>{const s=Number(Math.ceil(t.total/P));return Object(g.jsx)(u.a,{previousLabel:"",nextLabel:"",pageCount:s||1,activeClassName:"active",forcePage:0!==N?N-1:0,onPageChange:t=>(t=>{e(Object(l.d)({sort:a,sortColumn:C,q:p,perPage:P,page:t.selected+1,role:_.value,status:F.value})),f(t.selected+1)})(t),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},columns:K,onSort:(t,s)=>{m(s),w(t.sortField),e(Object(l.d)({sort:a,sortColumn:C,q:p,page:N,perPage:P,role:_.value,status:F.value}))},sortIcon:Object(g.jsx)(i.a,{}),className:"react-dataTable",data:(()=>{const e={role:_.value,status:F.value,q:p},a=Object.keys(e).some((function(t){return e[t].length>0}));return t.data.length>0?t.data:0===t.data.length&&a?[]:t.allData.slice(0,P)})(),subHeaderComponent:Object(g.jsx)(v,{store:t,searchTerm:p,rowsPerPage:P,handleFilter:t=>{x(t),e(Object(l.d)({sort:a,q:t,sortColumn:C,page:N,perPage:P,role:_.value,status:F.value}))},handlePerPage:t=>{const s=parseInt(t.currentTarget.value);f(1),e(Object(l.d)({sort:a,sortColumn:C,q:p,perPage:s,page:1,role:_.value,status:F.value})),k(s)},toggleSidebar:T})})})})})};a(527),a(524);t.default=()=>Object(g.jsx)("div",{className:"app-user-list",children:Object(g.jsx)(x,{})})}}]);
//# sourceMappingURL=172.ecc2d0d5.chunk.js.map
(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[166],{1780:function(e,t,a){"use strict";a.r(t);var s=a(137),c=a(20),l=a(3),n=a(1),o=a(138),r=a(143),i=a(504),j=a.n(i),d=a(856),b=a(857),m=a(858),u=a(859),O=a(860),h=a(943),x=a(867),p=a(868),v=a(501),g=a.n(v),N=a(505),y=a(499),f=a(102),S=(a(502),a(507),a(517)),C=a(503),w=a(533),R=a.n(w),E=a(48),I=a(5),A=a.n(I),D=a(9);const P=async e=>A.a.get(`${D.a}/country?${e}`),k=async e=>A.a.get(`${D.a}/state?${e}`),T=async e=>A.a.get(`${D.a}/city?${e}`);var U=a(537),$=a(12);const L={email:"",phone:"",company:"",fullName:"",lastName:""};var M=e=>{let{open:t,toggleSidebar:a}=e;const s=Object(o.c)((e=>e.auth.userData.role)),[i,j]=(Object(o.c)((e=>e.users.salesUsers)),Object(n.useState)("")),[d,b]=Object(n.useState)(),[m,u]=Object(n.useState)(),[O,h]=Object(n.useState)(),[x,p]=Object(n.useState)(),[v,g]=Object(n.useState)(),[y,w]=Object(n.useState)(),[I,A]=Object(n.useState)(),[D,M]=Object(n.useState)(),[F,B]=Object(n.useState)(null),[q,_]=Object(n.useState)(!1),[V,Y]=Object(n.useState)(""),[z,W]=Object(n.useState)(""),[G,K]=Object(n.useState)(""),[J,Q]=Object(n.useState)(""),[H,X]=Object(n.useState)(S.a.USER),[Z,ee]=Object(n.useState)(""),[te,ae]=Object(n.useState)(""),[se,ce]=Object(n.useState)(""),[le,ne]=Object(n.useState)(""),[oe,re]=Object(n.useState)(""),[ie,je]=Object(n.useState)(""),[de,be]=Object(n.useState)(""),[me,ue]=Object(n.useState)(""),[Oe,he]=Object(n.useState)(""),[xe,pe]=Object(n.useState)(""),[ve,ge]=Object(n.useState)(""),[Ne,ye]=Object(n.useState)(new Date),[fe,Se]=Object(n.useState)(""),[Ce,we]=Object(n.useState)(""),[Re,Ee]=Object(n.useState)([]),[Ie,Ae]=Object(n.useState)([]),[De,Pe]=Object(n.useState)(""),[ke,Te]=Object(n.useState)([]),[Ue,$e]=Object(n.useState)([]),[Le,Me]=Object(n.useState)([]),[Fe,Be]=Object(n.useState)(""),[qe,_e]=Object(n.useState)(""),[Ve,Ye]=Object(n.useState)(""),ze=Object(o.b)(),We=()=>H===S.a.DISTRIBUTOR||H===S.a.MANUFACTURER||H===S.a.DEALER,{control:Ge,setValue:Ke,setError:Je,handleSubmit:Qe,formState:{errors:He}}=Object(C.e)({defaultValues:L}),Xe=()=>{if((()=>{if(""!==`${V}`)return We()?""===`${Z}`?(alert("Organization Name is Required"),0):""===`${le}`?(alert("Gst is Required"),0):""===`${oe}`?(alert("Address is Required"),0):""===`${Fe}`?(alert("Country is Required"),0):""===`${qe}`?(alert("State is Required"),0):""===`${Ve}`?(alert("City is Required"),0):""!==`${x}`||(alert("Year of Establishment is Required"),0):""===`${G}`?(alert("Email is Required"),0):""!==`${fe}`||(alert("Password is Required"),0);alert("Name is Required")})()){a();const e={name:V,email:G,phone:z,role:H,companyObj:{},approved:!0};We()?(e.dob=ie,e.address=oe,e.brandNames=i,e.whatsapp=J,e.gstNumber=le,e.countryId=Fe,e.stateId=qe,e.cityId=Ve,e.aniversaryDate=Ne,e.landline=ve,e.gstCertificate=xe,e.bannerImage=Ce,e.profileImage=me,e.categoryArr=De.map((e=>({categoryId:e.value})))):e.password=fe,H!==S.a.ADMIN&&H!==S.a.SUBADMIN&&H!==S.a.APPROVERS&&H!==S.a.USER&&(e.companyObj.name=Z,e.companyObj.email=te,e.companyObj.phone=se,e.companyObj.address=oe,e.companyObj.gstNumber=le,e.companyObj.noofepmployee=de,e.companyObj.yearOfEstablishment=x,e.companyObj.natureOfBusiness=d,e.companyObj.googleMapsLink=D,e.companyName=Z,e.companyEmail=te,e.companyPhone=se,e.gstNumber=le,e.dob=ie,e.profileImage=me,e.signature=Oe,e.gstCertificate=xe,e.countryId=Fe,e.stateId=qe,e.cityId=Ve),F&&null!==F&&void 0!==F&&F._id&&(e.salesId=null===F||void 0===F?void 0:F._id),ze(Object(r.a)(e))}};return Object(n.useEffect)((()=>{(async()=>{try{const{data:e}=await P();console.log(e.data,"data"),e.data&&Te(e.data)}catch(e){console.log(e)}})(),(async()=>{try{const{data:e}=await Object(E.d)();e.success&&e.data.length&&Ae(e.data)}catch(e){console.error(e),Object(l.a)(e)}})(),(async()=>{try{const{data:e}=await Object(c.i)();e&&Ee(e.data)}catch(e){Object(l.a)(e)}})()}),[]),Object(n.useEffect)((()=>{Fe&&(console.log(Fe,"countryId"),(async e=>{try{const{data:t}=await k(`countryId=${e}`);t.data?$e(t.data):$e([])}catch(t){console.log(t)}})(Fe))}),[Fe]),Object(n.useEffect)((()=>{qe&&(async e=>{try{const{data:t}=await T(`stateId=${e}`);t.data?Me(t.data):Me([])}catch(t){console.log(t)}})(qe)}),[qe]),Object($.jsx)($.Fragment,{children:Object($.jsxs)(f.Q,{isOpen:t,onClosed:()=>{for(const e in L)console.log(e),Ke(e,"")},toggle:a,className:"modal-dialog-centered modal-lg",children:[Object($.jsx)(f.T,{className:"bg-transparent",toggle:a}),Object($.jsxs)(f.R,{className:"px-3 pb-3",children:[Object($.jsx)("div",{className:"text-center",children:Object($.jsx)("h2",{children:"Add User"})}),Object($.jsxs)("label",{children:["Role ",Object($.jsx)("span",{className:"text-danger",children:"*"}),"  "]}),Object($.jsx)(N.a,{options:Object.values(S.a).filter((e=>"ADMIN"!==e&&s!==S.a.APPROVERS&&e!==S.a.APPROVERS)).map((e=>({label:e,value:e}))),value:{value:H,label:H},onChange:e=>X(e.value)}),(H===S.a.DISTRIBUTOR||H===S.a.MANUFACTURER||H===S.a.DEALER)&&Object($.jsxs)("div",{className:"row",children:[Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:["Name of Organization ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Object($.jsx)("input",{type:"text",className:"form-control",value:Z,onChange:e=>ee(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Organization Phone / Landline"}),Object($.jsx)("input",{type:"text",className:"form-control",value:se,onChange:e=>ce(e.target.value),maxLength:"10"})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:[" Year of Establishment ",Object($.jsx)("span",{className:"text-danger",children:"*"})," "]}),Object($.jsx)("input",{type:"text",className:"form-control",value:x,onChange:e=>p(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("div",{style:{width:"max-content"},children:Object($.jsxs)("label",{children:["Category ",Object($.jsx)("span",{className:"text-danger me-2",children:"*"})]})}),Object($.jsx)(N.a,{className:"form-control",options:Ie&&Ie.length>0&&Ie.map((e=>({...e,label:e.name,value:e._id}))),value:De,closeMenuOnSelect:!1,onChange:e=>Pe(e),isMulti:!0})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:" Dealing With Brand Names "}),Object($.jsx)("input",{type:"text",className:"form-control",value:i,onChange:e=>j(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:" Google Maps Link  "}),Object($.jsx)("a",{href:"https://www.google.com/maps",target:"_blank",style:{textDecorationLine:"underline"},children:" Click to open google maps"}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)("span",{children:"Note : The link above will take you to google maps where you can select the your business's location to get the link and paste it in the text input given below"}),Object($.jsx)("br",{}),Object($.jsx)("input",{type:"text",className:"form-control",value:D,onChange:e=>M(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-12 mt-2",children:[Object($.jsxs)("label",{children:[" Address ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Object($.jsx)("textarea",{className:"form-control",value:oe,onChange:e=>re(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-4 mt-2",children:[Object($.jsxs)("label",{children:[" Country ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),ke&&Object($.jsxs)("select",{className:"form-control",onChange:e=>Be(e.target.value),children:[Object($.jsx)("option",{value:"",children:"Please Select Country"}),ke.map((e=>Object($.jsx)("option",{value:e._id,children:e.name})))]})]}),Object($.jsxs)("div",{className:"col-md-4 mt-2",children:[Object($.jsxs)("label",{children:[" State ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Ue&&Object($.jsxs)("select",{className:"form-control",onChange:e=>_e(e.target.value),children:[Object($.jsx)("option",{value:"",children:"Please Select State"}),Ue.map((e=>Object($.jsx)("option",{value:e._id,children:e.name})))]})]}),Object($.jsxs)("div",{className:"col-md-4 mt-2",children:[Object($.jsxs)("label",{children:[" City ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Le&&Object($.jsxs)("select",{className:"form-control",onChange:e=>Ye(e.target.value),children:[Object($.jsx)("option",{value:"",children:"Please Select City"}),Le.map((e=>Object($.jsx)("option",{value:e._id,children:e.name})))]})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:" Profile Photo"}),Object($.jsx)(U.a,{onFileChange:e=>{ue(e)}})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:" Banner Photo  (Exterior/Interior Image of your Showroom/Unit)"}),Object($.jsx)(U.a,{onFileChange:e=>we(e)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:[" GST No ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Object($.jsx)("input",{type:"text",className:"form-control",value:le,onChange:e=>ne(e.target.value)})]})]}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("h4",{className:"heading yellow mt-4",children:We()?"Contact Person Details":""}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:[We()?"Name of Authorised person":"Name",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Object($.jsx)("input",{type:"text",className:"form-control",value:V,onChange:e=>Y(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:["Email ",Object($.jsx)("span",{className:"text-danger",children:"*"})," "]}),Object($.jsx)("input",{type:"email",className:"form-control",value:G,onChange:e=>K(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Date of Birth "}),Object($.jsx)("input",{type:"date",className:"form-control",value:R()(Ne).format("YYYY-MM-DD"),onChange:e=>ye(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:["Your Email Id ",Object($.jsx)("span",{className:"text-danger",children:"*"})," "]}),Object($.jsx)("input",{type:"email",className:"form-control",value:G,onChange:e=>K(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Whatsapp No."}),Object($.jsx)("input",{type:"tel",className:"form-control",value:J,onChange:e=>Q(e.target.value),maxLength:"10"})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Mobile No. "}),Object($.jsx)("input",{type:"tel",className:"form-control",value:z,onChange:e=>W(e.target.value),maxLength:"10"})]}),!We()&&Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Whatsapp No."}),Object($.jsx)("input",{type:"tel",className:"form-control",value:J,onChange:e=>Q(e.target.value),maxLength:"10"})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Password"}),Object($.jsx)("input",{type:"password",className:"form-control",value:fe,onChange:e=>Se(e.target.value)})]})]})]}),Object($.jsx)("div",{className:"col-md-12 mt-2",children:Object($.jsx)(f.i,{type:"button",className:"me-1",color:"primary",onClick:()=>{Xe()},children:"Submit"})})]})]})})},F=a(149),B=a(142),q=a(144);const _={email:"",phone:"",company:"",fullName:"",lastName:""};var V=e=>{let{open:t,toggleFn:a,selectedUser:s}=e;const r=Object(o.c)((e=>e.countries.countries)),i=Object(o.c)((e=>e.states.states)),j=Object(o.c)((e=>e.cities.cities)),d=Object(o.c)((e=>e.auth.userData.role)),[b,m]=(Object(o.c)((e=>e.users)),Object(n.useState)("")),[u,O]=Object(n.useState)(),[h,x]=Object(n.useState)(),[p,v]=Object(n.useState)(),[g,y]=Object(n.useState)(),[w,I]=Object(n.useState)(),[A,L]=Object(n.useState)(),[M,V]=Object(n.useState)(),[Y,z]=Object(n.useState)(),[W,G]=Object(n.useState)(null),[K,J]=Object(n.useState)(!1),[Q,H]=Object(n.useState)(""),[X,Z]=Object(n.useState)(""),[ee,te]=Object(n.useState)(""),[ae,se]=Object(n.useState)(""),[ce,le]=Object(n.useState)(S.a.USER),[ne,oe]=Object(n.useState)(""),[re,ie]=Object(n.useState)(""),[je,de]=Object(n.useState)(""),[be,me]=Object(n.useState)(""),[ue,Oe]=Object(n.useState)(""),[he,xe]=Object(n.useState)(""),[pe,ve]=Object(n.useState)(""),[ge,Ne]=Object(n.useState)(""),[ye,fe]=Object(n.useState)(""),[Se,Ce]=Object(n.useState)(""),[we,Re]=Object(n.useState)(""),[Ee,Ie]=Object(n.useState)(new Date),[Ae,De]=Object(n.useState)(""),[Pe,ke]=Object(n.useState)(""),[Te,Ue]=Object(n.useState)([]),[$e,Le]=Object(n.useState)([]),[Me,Fe]=Object(n.useState)(""),[Be,qe]=Object(n.useState)([]),[_e,Ve]=Object(n.useState)([]),[Ye,ze]=Object(n.useState)([]),[We,Ge]=Object(n.useState)(""),[Ke,Je]=Object(n.useState)(""),[Qe,He]=Object(n.useState)(""),Xe=()=>ce===S.a.DISTRIBUTOR||ce===S.a.MANUFACTURER||ce===S.a.DEALER;Object(n.useEffect)((()=>{(async()=>{try{const{data:e}=await P();console.log(e.data,"data"),e.data&&qe(e.data)}catch(e){console.log(e)}})(),(async()=>{try{const{data:e}=await Object(E.d)();e.success&&e.data.length&&Le(e.data)}catch(e){console.error(e),Object(l.a)(e)}})(),(async()=>{try{const{data:e}=await Object(c.i)();e&&Ue(e.data)}catch(e){Object(l.a)(e)}})()}),[]),Object(n.useEffect)((()=>{We&&(console.log(We,"countryId"),(async e=>{try{const{data:t}=await k(`countryId=${e}`);t.data?Ve(t.data):Ve([])}catch(t){console.log(t)}})(We))}),[We]),Object(n.useEffect)((()=>{Ke&&(async e=>{try{const{data:t}=await T(`stateId=${e}`);t.data?ze(t.data):ze([])}catch(t){console.log(t)}})(Ke)}),[Ke]);const Ze=Object(o.b)();Object(n.useEffect)((()=>{if(Te&&Te.length>0&&s&&s.salesId){const e=Te.find((e=>e._id===s.salesId));e&&G({label:e.name,value:e._id})}}),[Te,s]),Object(n.useEffect)((()=>{if($e&&$e.length>0&&s&&s.categoryArr){const e=$e.filter((e=>s.categoryArr.some((t=>t.categoryId===e._id))));e&&Fe(e.map((e=>({label:e.name,value:e._id}))))}}),[$e,s]),Object(n.useEffect)((()=>{var e,t,a,c,l,n,o,r,i;s&&s.name&&(le(s.role),xe(null===s||void 0===s?void 0:s.dob),Oe(null===s||void 0===s?void 0:s.address),m(null===s||void 0===s?void 0:s.brandNames),se(null===s||void 0===s?void 0:s.whatsapp),me(null===s||void 0===s||null===(t=s.companyObj)||void 0===t?void 0:t.gstNumber),Ie(null===s||void 0===s?void 0:s.aniversaryDate),Re(null===s||void 0===s?void 0:s.landline),Ce(null===s||void 0===s?void 0:s.gstCertificate),ke(null===s||void 0===s?void 0:s.bannerImage),Ne(null===s||void 0===s?void 0:s.profileImage),oe(null===s||void 0===s||null===(a=s.companyObj)||void 0===a?void 0:a.name),ie(null===s||void 0===s||null===(c=s.companyObj)||void 0===c?void 0:c.email),de(null===s||void 0===s||null===(l=s.companyObj)||void 0===l?void 0:l.phone),Ge(null===s||void 0===s?void 0:s.countryId),Je(null===s||void 0===s?void 0:s.stateId),He(null===s||void 0===s?void 0:s.cityId),Oe(null===s||void 0===s||null===(n=s.companyObj)||void 0===n?void 0:n.address),H(null===s||void 0===s?void 0:s.name),te(null===s||void 0===s?void 0:s.email),xe(null===s||void 0===s?void 0:s.dob),Z(null===s||void 0===s?void 0:s.phone),y(null===s||void 0===s||null===(o=s.companyObj)||void 0===o?void 0:o.yearOfEstablishment),O(null===s||void 0===s||null===(r=s.companyObj)||void 0===r?void 0:r.natureOfBusiness),z(null===s||void 0===s||null===(i=s.companyObj)||void 0===i?void 0:i.googleMapsLink));console.log((null===s||void 0===s?void 0:s.documents)&&(null===s||void 0===s?void 0:s.documents.length)>0&&(null===s||void 0===s||null===(e=s.documents.filter((e=>"gstCertificate"===(null===e||void 0===e?void 0:e.name)))[0])||void 0===e?void 0:e.image)),console.log(s,"selectedUser")}),[s]),Object(n.useEffect)((()=>{ze(j)}),[j]),Object(n.useEffect)((()=>{Ve(i)}),[i]),Object(n.useEffect)((()=>{qe(r)}),[r]);const{control:et,setValue:tt,setError:at,handleSubmit:st,formState:{errors:ct}}=Object(C.e)({defaultValues:_}),lt=async()=>{try{if((()=>{if(""!==`${Q}`)return Xe()?""===`${ne}`?(alert("Organization Name is Required"),0):""===`${be}`?(alert("Gst is Required"),0):""===`${ue}`?(alert("Address is Required"),0):""===`${We}`?(alert("Country is Required"),0):""===`${Ke}`?(alert("State is Required"),0):""===`${Qe}`?(alert("City is Required"),0):""!==`${g}`||(alert("Year of Establishment is Required"),0):""===`${ee}`?(alert("Email is Required"),0):""!==`${Ae}`||(alert("Password is Required"),0);alert("Name is Required")})()){console.log("onSubmit");const e={name:Q,email:ee,phone:X,role:ce,companyObj:{},approved:!0};Xe()?(e.dob=he,e.address=ue,e.brandNames=b,e.whatsapp=ae,e.gstNumber=be,e.countryId=We,e.stateId=Ke,e.cityId=Qe,e.aniversaryDate=Ee,e.landline=we,e.gstCertificate=Se,e.bannerImage=Pe,e.profileImage=ge,e.categoryArr=Me.map((e=>({categoryId:e.value})))):e.password=Ae,ce!==S.a.ADMIN&&ce!==S.a.SUBADMIN&&ce!==S.a.APPROVERS&&ce!==S.a.USER&&(e.companyObj.name=ne,e.companyObj.email=re,e.companyObj.phone=je,e.companyObj.address=ue,e.companyObj.gstNumber=be,e.companyObj.noofepmployee=pe,e.companyObj.yearOfEstablishment=g,e.companyObj.googleMapsLink=Y,e.companyObj.natureOfBusiness=u,e.companyName=ne,e.companyEmail=re,e.companyPhone=je,e.gstNumber=be,e.dob=he,e.profileImage=ge,e.signature=ye,e.gstCertificate=Se,e.countryId=We,e.stateId=Ke,e.cityId=Qe),W&&null!==W&&void 0!==W&&W._id&&(e.salesId=null===W||void 0===W?void 0:W._id),console.log("onSubmit");const{data:t}=await Object(c.e)(e,s._id);t.message&&(Object(l.b)(t.message),a()),console.log("onSubmit")}}catch(e){Object(l.a)(e)}};return Object(n.useEffect)((()=>{We&&Ze(Object(q.d)(`countryId=${We}`))}),[We]),Object(n.useEffect)((()=>{Ke&&Ze(Object(F.d)(`stateId=${Ke}`))}),[Ke]),Object(n.useEffect)((()=>{Ze(Object(B.d)()),Ze(Object(q.d)())}),[]),Object($.jsx)($.Fragment,{children:Object($.jsxs)(f.Q,{isOpen:t,onClosed:()=>a(),className:"modal-dialog-centered modal-lg",children:[Object($.jsx)(f.T,{className:"bg-transparent",toggle:()=>a()}),Object($.jsxs)(f.R,{className:"px-3 pb-3",children:[Object($.jsx)("div",{className:"text-center",children:Object($.jsx)("h2",{children:"Edit User"})}),Object($.jsxs)("label",{children:["Role ",Object($.jsx)("span",{className:"text-danger",children:"*"}),"  "]}),Object($.jsx)(N.a,{options:Object.values(S.a).filter((e=>"ADMIN"!==e&&d!==S.a.APPROVERS&&e!==S.a.APPROVERS)).map((e=>({label:e,value:e}))),value:{value:ce,label:ce},onChange:e=>le(e.value)}),(ce===S.a.DISTRIBUTOR||ce===S.a.MANUFACTURER||ce===S.a.DEALER)&&Object($.jsxs)("div",{className:"row",children:[Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:["Name of Organization ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Object($.jsx)("input",{type:"text",className:"form-control",value:ne,onChange:e=>oe(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Organization Phone / Landline"}),Object($.jsx)("input",{type:"text",className:"form-control",value:je,onChange:e=>de(e.target.value),maxLength:"10"})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:[" Year of Establishment ",Object($.jsx)("span",{className:"text-danger",children:"*"})," "]}),Object($.jsx)("input",{type:"text",className:"form-control",value:g,onChange:e=>y(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("div",{style:{width:"max-content"},children:Object($.jsxs)("label",{children:["Category ",Object($.jsx)("span",{className:"text-danger me-2",children:"*"})]})}),Object($.jsx)(N.a,{className:"form-control",options:$e&&$e.length>0&&$e.map((e=>({...e,label:e.name,value:e._id}))),value:Me,closeMenuOnSelect:!1,onChange:e=>Fe(e),isMulti:!0})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:" Dealing With Brand Names "}),Object($.jsx)("input",{type:"text",className:"form-control",value:b,onChange:e=>m(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:" Google Maps Link "}),Object($.jsx)("a",{href:"https://www.google.com/maps",target:"_blank",style:{textDecorationLine:"underline"},children:" Click to open google maps"}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)("span",{children:"Note : The link above will take you to google maps where you can select the your business's location to get the link and paste it in the text input given below"}),Object($.jsx)("br",{}),Object($.jsx)("input",{type:"text",className:"form-control",value:Y,onChange:e=>z(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-12 mt-2",children:[Object($.jsxs)("label",{children:[" Address ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Object($.jsx)("textarea",{className:"form-control",value:ue,onChange:e=>Oe(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-4 mt-2",children:[Object($.jsxs)("label",{children:[" Country ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Be&&Object($.jsxs)("select",{className:"form-control",value:We,onChange:e=>Ge(e.target.value),children:[Object($.jsx)("option",{value:"",children:"Please Select Country"}),Be.map((e=>Object($.jsx)("option",{value:e._id,children:e.name})))]})]}),Object($.jsxs)("div",{className:"col-md-4 mt-2",children:[Object($.jsxs)("label",{children:[" State ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),_e&&Object($.jsxs)("select",{className:"form-control",value:Ke,onChange:e=>Je(e.target.value),children:[Object($.jsx)("option",{value:"",children:"Please Select State"}),_e.map((e=>Object($.jsx)("option",{value:e._id,children:e.name})))]})]}),Object($.jsxs)("div",{className:"col-md-4 mt-2",children:[Object($.jsxs)("label",{children:[" City ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Ye&&Object($.jsxs)("select",{className:"form-control",value:Qe,onChange:e=>He(e.target.value),children:[Object($.jsx)("option",{value:"",children:"Please Select City"}),Ye.map((e=>Object($.jsx)("option",{value:e._id,children:e.name})))]})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:" Profile Photo"}),Object($.jsx)("div",{children:ge&&ge.includes("base64")?Object($.jsx)("img",{src:ge,style:{height:100,width:100}}):Object($.jsx)("img",{src:Object(D.b)(ge),style:{height:100,width:100}})}),Object($.jsx)(U.a,{onFileChange:e=>{Ne(e)}})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:" Banner (Image of your Showroom)"}),Object($.jsx)("div",{children:(ge&&ge.includes("base64"),Object($.jsx)("img",{src:Object(D.b)(Pe),style:{height:100,width:100}}))}),Object($.jsx)(U.a,{onFileChange:e=>ke(e)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:[" GST No ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Object($.jsx)("input",{type:"text",className:"form-control",value:be,onChange:e=>me(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Sales"}),Object($.jsx)(N.a,{className:"form-control",options:Te&&Te.length>0&&Te.map((e=>({...e,label:e.name,value:e._id}))),value:W,onChange:e=>G(e)})]})]}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("h4",{className:"heading yellow mt-4",children:Xe()?"Contact Person Details":""}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:[Xe()?"Name of Authorised person":"Name",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Object($.jsx)("input",{type:"text",className:"form-control",value:Q,onChange:e=>H(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:["Email ",Object($.jsx)("span",{className:"text-danger",children:"*"})," "]}),Object($.jsx)("input",{type:"email",className:"form-control",value:ee,onChange:e=>te(e.target.value)})]})," ",Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Date of Birth  "}),Object($.jsx)("input",{type:"date",className:"form-control",value:R()(Ee).format("YYYY-MM-DD"),onChange:e=>Ie(e.target.value)})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsxs)("label",{children:["Mobile No. ",Object($.jsx)("span",{className:"text-danger",children:"*"})]}),Object($.jsx)("input",{type:"tel",className:"form-control",value:X,onChange:e=>Z(e.target.value),maxLength:"10"})]}),!Xe()&&Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Whatsapp No."}),Object($.jsx)("input",{type:"tel",className:"form-control",value:ae,onChange:e=>se(e.target.value),maxLength:"10"})]}),Object($.jsxs)("div",{className:"col-md-6 mt-2",children:[Object($.jsx)("label",{children:"Password"}),Object($.jsx)("input",{type:"password",className:"form-control",value:Ae,onChange:e=>De(e.target.value)})]})]})]}),Object($.jsx)("div",{className:"col-md-12 mt-2",children:Object($.jsx)(f.i,{type:"button",className:"me-1",color:"primary",onClick:()=>{lt()},children:"Submit"})})]})]})})};var Y=()=>{const e=Object(o.b)(),t=Object(o.c)((e=>e.users)),a=Object(o.c)((e=>e.auth.userData.role)),[i,v]=Object(n.useState)({}),[C,w]=Object(n.useState)("desc"),[R,E]=Object(n.useState)(""),[I,A]=Object(n.useState)(1),[D,P]=Object(n.useState)("name"),[k,T]=Object(n.useState)(10),[U,L]=Object(n.useState)(!1),[F,B]=Object(n.useState)({value:"",label:"Select Role"}),[q,_]=Object(n.useState)({value:"",label:"Select Status",number:0}),[Y,z]=Object(n.useState)([]),[W,G]=Object(n.useState)(!1),[K,J]=Object(n.useState)(!1),Q=()=>L(!U);Object(n.useEffect)((()=>{e(Object(r.d)()),e(Object(r.e)({sort:C,sortColumn:D,q:R,page:I,perPage:k,role:F.value,status:q.value,showName:!0}));const t=Object.values(S.a).map((e=>({label:e,value:e})));let s=[{label:"All",value:"All"},...t];s=a!==S.a.SALES&&a!==S.a.FIELDUSER?[{label:"All",value:"All"},...t]:[...t.filter((e=>e.label===S.a.DISTRIBUTOR||e.label===S.a.DEALER||e.label===S.a.MANUFACTURER||e.label===S.a.RETAILER||e.label===S.a.CONTRACTOR))],z(s)}),[e,t.data.length,C,D,I]);const H=[{name:"User",sortable:!0,minWidth:"300px",sortField:"fullName",selector:e=>e.name,cell:t=>{var a,c;return Object($.jsx)("div",{className:"d-flex justify-content-left align-items-center",children:Object($.jsxs)("div",{className:"d-flex flex-column",children:[Object($.jsx)(s.b,{to:`/apps/user/view/${t._id}`,className:"user_name text-truncate text-body",onClick:()=>e(getUser(t._id)),children:Object($.jsx)("span",{className:"fw-bolder",children:null!==(a=t.companyObj)&&void 0!==a&&a.name?null===(c=t.companyObj)||void 0===c?void 0:c.name:t.name})}),Object($.jsx)("small",{className:" mb-0",children:t.email})]})})}},{name:"Role",sortable:!0,minWidth:"172px",sortField:"role",selector:e=>null===e||void 0===e?void 0:e.role,cell:e=>(e=>{const t={USER:{class:"text-primary",icon:d.a},MANUFACTURER:{class:"text-success",icon:b.a},editor:{class:"text-info",icon:m.a},DISTRIBUTOR:{class:"text-warning",icon:u.a},DEALER:{class:"text-danger",icon:O.a},APPROVERS:{class:"text-danger",icon:O.a},RETAILER:{class:"text-danger",icon:O.a},CONTRACTOR:{class:"text-danger",icon:O.a}},a=t[e.role]?t[e.role].icon:m.a;return Object($.jsxs)("span",{className:"text-truncate text-capitalize align-middle",children:[Object($.jsx)(a,{size:18,className:`${t[e.role]?t[e.role].class:""} me-50`}),e.role]})})(e)},{name:"Approved",minWidth:"138px",sortable:!1,sortField:"approved",selector:e=>e.approved,cell:t=>Object($.jsx)($.Fragment,{children:a!==S.a.ADMIN?Object($.jsx)("div",{children:"You don't have access to approve users"}):Object($.jsxs)("div",{className:"form-check form-switch",children:[Object($.jsx)(f.K,{type:"switch",name:"customSwitch",id:"exampleCustomSwitch",checked:t.approved,onChange:()=>(async(t,a)=>{try{const s={status:a},{data:n}=await Object(c.b)(t,s);n.message&&(Object(l.b)(n.message),e(Object(r.e)({sort:C,sortColumn:D,q:R,page:I,perPage:k,role:F.value,status:q.value,showName:!0})))}catch(s){Object(l.a)(s)}})(t._id,!t.approved)})," "]})})},{name:"Blocked Subscription",minWidth:"138px",sortable:!0,sortField:"isBlocked",selector:e=>e.isBlocked,cell:t=>Object($.jsx)($.Fragment,{children:a!==S.a.ADMIN?Object($.jsx)("div",{children:"You don't have access to block users"}):Object($.jsx)("div",{className:"form-check form-switch",children:Object($.jsx)(f.K,{type:"switch",name:"customSwitch",id:"exampleCustomSwitch",defaultChecked:t.isBlocked,onChange:()=>(async(t,a)=>{try{const s={isBlocked:a},{data:n}=await Object(c.c)(t,s);n.message&&(Object(l.b)(n.message),e(Object(r.e)({sort:C,sortColumn:D,q:R,page:I,perPage:k,role:F.value,status:q.value,showName:!0})))}catch(s){Object(l.a)(s)}})(t._id,!t.isBlocked)})})})},{name:"Is Verified",minWidth:"138px",sortable:!1,sortField:"approved",selector:e=>e.isVerified,cell:t=>Object($.jsx)($.Fragment,{children:a!==S.a.ADMIN?Object($.jsx)("div",{children:"You don't have access to verify users"}):Object($.jsx)("div",{className:"form-check form-switch",children:Object($.jsx)(f.K,{type:"switch",name:"customSwitch",id:"exampleCustomSwitch",checked:t.isVerified,onChange:()=>(async(t,a)=>{try{const s={isVerified:a},{data:n}=await Object(c.l)(t,s);n.message&&(Object(l.b)(n.message),e(Object(r.e)({sort:C,sortColumn:D,q:R,page:I,perPage:k,role:F.value,status:q.value,showName:!0})))}catch(s){Object(l.a)(s)}})(t._id,!t.isVerified)})})})},{name:"Actions",minWidth:"100px",sortable:!1,cell:t=>Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(s.b,{color:"success",className:"btn-sm btn-success asdfasdf",to:`/apps/user/view/${t._id}`,onClick:()=>e(getUser(t.id)),children:["     ",Object($.jsx)(h.a,{size:14})]}),Object($.jsx)(f.i,{color:"primary",onClick:e=>{e.preventDefault(),v(t),G(!0)},className:"ms-2 ",children:Object($.jsx)(x.a,{size:14})}),a!==S.a.FIELDUSER&&a!==S.a.SALES&&Object($.jsxs)(f.i,{color:"danger",className:"ms-2 btn-sm",onClick:a=>{a.preventDefault(),e(Object(r.c)(t._id))},children:["    ",Object($.jsx)(p.a,{size:14})]})]})}];return Object($.jsxs)(n.Fragment,{children:[Object($.jsxs)(f.l,{children:[Object($.jsx)(f.p,{children:Object($.jsx)(f.v,{tag:"h4",children:"Filters"})}),Object($.jsx)(f.m,{children:Object($.jsxs)(f.ib,{children:[Object($.jsxs)(f.B,{md:"4",children:[Object($.jsx)(f.N,{for:"role-select",children:"Role"}),Object($.jsx)(N.a,{isClearable:!1,value:F,options:Y,className:"react-select",classNamePrefix:"select",theme:y.i,onChange:t=>{B(t),e(Object(r.e)({sort:C,sortColumn:D,q:R,role:t.value,page:I,perPage:k,status:q.value}))}})]}),Object($.jsxs)(f.B,{md:"4",children:[Object($.jsx)(f.N,{for:"status-select",children:"Status"}),Object($.jsx)(N.a,{theme:y.i,isClearable:!1,className:"react-select",classNamePrefix:"select",options:[{value:"",label:"Select Status/View All",number:0},{value:"active",label:"Active",number:!0},{value:"inactive",label:"Inactive",number:!1}],value:q,onChange:t=>{_(t),e(Object(r.e)({sort:C,sortColumn:D,q:R,page:I,status:t.value,perPage:k,role:F.value}))}})]})]})})]}),Object($.jsxs)(f.l,{className:"overflow-hidden",children:[Object($.jsx)("div",{className:"mx-2 pt-2 pb-3",children:Object($.jsxs)(f.ib,{children:[Object($.jsx)(f.B,{xl:"8",className:"d-flex align-items-center p-0",children:Object($.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object($.jsx)("label",{htmlFor:"rows-per-page",children:"Show"}),Object($.jsxs)(f.K,{className:"mx-50",type:"select",id:"rows-per-page",value:k,onChange:t=>{const a=parseInt(t.currentTarget.value);A(1),e(Object(r.e)({sort:C,sortColumn:D,q:R,perPage:a,page:1,role:F.value,status:q.value})),T(a)},style:{width:"5rem"},children:[Object($.jsx)("option",{value:"10",children:"10"}),Object($.jsx)("option",{value:"25",children:"25"}),Object($.jsx)("option",{value:"50",children:"50"}),Object($.jsx)("option",{value:"100",children:"100"}),Object($.jsx)("option",{value:"500",children:"500"})]}),Object($.jsx)("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),Object($.jsxs)(f.B,{xl:"4",className:"d-flex justify-content-end",children:[Object($.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[Object($.jsx)("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),Object($.jsx)(f.K,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:R,onChange:t=>{return a=t.target.value,E(a),void e(Object(r.e)({sort:C,q:a,sortColumn:D,page:I,perPage:k,role:F.value,status:q.value}));var a}})]}),Object($.jsx)(f.i,{className:"add-new-user",color:"primary",onClick:Q,children:"Add New User"})]})]})}),Object($.jsx)("div",{className:"react-dataTable",children:Object($.jsx)(j.a,{noHeader:!0,pagination:!0,columns:H,paginationServer:!0,paginationComponent:()=>{const a=Number(Math.ceil(t.total/k));return Object($.jsx)(g.a,{previousLabel:"",nextLabel:"",pageCount:a||1,activeClassName:"active",forcePage:0!==I?I-1:0,onPageChange:t=>(t=>{e(Object(r.e)({sort:C,sortColumn:D,q:R,perPage:k,page:t.selected+1,role:F.value,status:q.value})),A(t.selected+1)})(t),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},className:"react-dataTable",data:t.data})})]}),Object($.jsx)(M,{open:U,toggleSidebar:Q}),Object($.jsx)(V,{open:W,toggleFn:e=>G(e),selectedUser:i})]})},z=a(525),W=a(1008),G=a(1007),K=a(1009);a(522);t.default=()=>{const e=Object(o.c)((e=>e.users)),[t,a]=Object(n.useState)(0),[s,c]=Object(n.useState)(0),[l,r]=Object(n.useState)(0),[i,j]=Object(n.useState)(0);return Object(n.useEffect)((()=>{console.log(e,"store"),e&&(a(e.totalUsers),c(e.totalDistributors),r(e.totalManufacturers),j(e.totalDealers))}),[e]),Object($.jsxs)("div",{className:"app-user-list",children:[Object($.jsxs)(f.ib,{children:[Object($.jsx)(f.B,{lg:"3",sm:"6",children:Object($.jsx)(z.a,{color:"primary",statTitle:"Total Users",icon:Object($.jsx)(d.a,{size:20}),renderStats:Object($.jsx)("h3",{className:"fw-bolder mb-75",children:t})})}),Object($.jsx)(f.B,{lg:"3",sm:"6",children:Object($.jsx)(z.a,{color:"danger",statTitle:"Total Manufacturers",icon:Object($.jsx)(W.a,{size:20}),renderStats:Object($.jsx)("h3",{className:"fw-bolder mb-75",children:l})})}),Object($.jsx)(f.B,{lg:"3",sm:"6",children:Object($.jsx)(z.a,{color:"success",statTitle:"Total Dealers",icon:Object($.jsx)(G.a,{size:20}),renderStats:Object($.jsx)("h3",{className:"fw-bolder mb-75",children:i})})}),Object($.jsx)(f.B,{lg:"3",sm:"6",children:Object($.jsx)(z.a,{color:"warning",statTitle:"Total Distributors",icon:Object($.jsx)(K.a,{size:20}),renderStats:Object($.jsx)("h3",{className:"fw-bolder mb-75",children:s})})})]}),Object($.jsx)(Y,{})]})}}}]);
//# sourceMappingURL=166.e02ac3ed.chunk.js.map
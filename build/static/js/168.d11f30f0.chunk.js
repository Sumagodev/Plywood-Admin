(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[168],{1812:function(e,t,a){"use strict";a.r(t);var s=a(1),l=(a(500),a(139)),c=a(149),i=(a(858),a(859),a(860),a(861),a(862),a(869)),n=a(870),o=a(102),r=a(12);const d={pending:"light-warning",active:"light-success",inactive:"light-secondary"},j=[{name:"Name",sortable:!0,sortField:"name",width:"15%",cell:e=>e.name},{name:"State",sortable:!0,sortField:"state",width:"15%",cell:e=>{var t;return null===e||void 0===e||null===(t=e.stateObj)||void 0===t?void 0:t.name}},{name:"Country",sortable:!0,sortField:"country",width:"15%",cell:e=>{var t;return null===e||void 0===e||null===(t=e.countryObj)||void 0===t?void 0:t.name}},{name:"Status",sortable:!0,sortField:"status",selector:e=>e.status,cell:e=>Object(r.jsx)(o.f,{className:"text-capitalize",color:d[!0===e.status?"active":"inactive"],pill:!0,children:!0===e.status?"Active":"Inactive"})},{name:"Actions",cell:e=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(o.i,{color:"primary",className:"btn-sm",onClick:t=>{t.preventDefault(),l.a.dispatch(Object(c.f)(e._id))},children:["     ",Object(r.jsx)(i.a,{size:14})]}),Object(r.jsxs)(o.i,{color:"danger",className:"mx-2 btn-sm",onClick:t=>{t.preventDefault(),l.a.dispatch(Object(c.c)(e._id))},children:["    ",Object(r.jsx)(n.a,{size:14})]})]})}];var u=a(138),b=a(507),m=a(503),v=a.n(m),O=a(505),x=a.n(O),h=a(883),p=(a(501),a(504),a(508),a(518),a(569),a(5),a(3)),g=a(539),N=a(144),f=a(142),C=a(9);var y=e=>{let{open:t,toggleSidebar:a}=e;const l=Object(u.c)((e=>e.cities)),i=Object(u.c)((e=>e.countries)),n=Object(u.c)((e=>e.states)),[d,j]=Object(s.useState)(""),[m,v]=Object(s.useState)(),[O,x]=Object(s.useState)(),[h,y]=Object(s.useState)(!0),[S,I]=Object(s.useState)(!1),[w,k]=Object(s.useState)({}),[F,P]=Object(s.useState)(),[E,q]=Object(s.useState)(),[A,_]=Object(s.useState)(""),K=Object(u.b)();Object(s.useEffect)((()=>{K(Object(f.d)())}),[]),Object(s.useEffect)((()=>{O&&(v({}),K(Object(N.e)(`countryId=${O.value}`)))}),[O]),Object(s.useEffect)((()=>{i.countries&&q(i.countries.map((e=>({value:e._id,label:e.name}))))}),[i.countries]),Object(s.useEffect)((()=>{n.states?P(n.states.map((e=>({value:e._id,label:e.name})))):P([])}),[n.states]);const L=()=>{(""!==`${d}`||(Object(p.a)("Please Fill name"),0))&&(a(),!0===S?(console.log(m,"valval"),K(Object(c.g)({name:d,status:h,image:A,stateId:m.value,countryId:O.value,id:w._id}))):K(Object(c.a)({name:d,status:h,image:A,stateId:m.value,countryId:O.value})))};return Object(s.useEffect)((()=>{if(null!==l.selectedCity){var e,t;const a=l.selectedCity;k(a),I(!0),j(a.name),_(a.image),x({label:null===a||void 0===a||null===(e=a.countryObj)||void 0===e?void 0:e.name,value:a.countryId}),v({label:null===a||void 0===a||null===(t=a.stateObj)||void 0===t?void 0:t.name,value:a.stateId}),y(a.status)}else k({}),I(!1),j(""),v(""),x("")}),[l.selectedCity]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(o.Q,{isOpen:t,onClosed:()=>{},toggle:a,className:"modal-dialog-centered modal-lg",children:[Object(r.jsx)(o.T,{className:"bg-transparent",toggle:a}),Object(r.jsxs)(o.R,{className:"px-3 pb-3",children:[Object(r.jsx)("div",{className:"text-center",children:Object(r.jsxs)("h2",{children:[S?"Update":"Add"," City"]})}),Object(r.jsxs)(o.H,{className:"row",children:[Object(r.jsxs)("div",{className:"mb-1 col-md-6",children:[Object(r.jsx)(o.N,{className:"form-label",children:"Country"}),Object(r.jsx)(b.a,{className:"react-select",classNamePrefix:"select",defaultValue:O,options:E,onChange:e=>x(e)})]}),Object(r.jsxs)("div",{className:"mb-1 col-md-6",children:[Object(r.jsx)(o.N,{className:"form-label",children:"State"}),Object(r.jsx)(b.a,{className:"react-select",classNamePrefix:"select",defaultValue:m,options:F,onChange:e=>v(e)})]}),Object(r.jsxs)("div",{className:"mb-1 col-md-6",children:[Object(r.jsxs)(o.N,{className:"form-label",for:"fullName",children:["Name ",Object(r.jsx)("span",{className:"text-danger",children:"*"})]}),Object(r.jsx)(o.K,{className:"form-control",value:d,onChange:e=>j(e.target.value)})]}),Object(r.jsxs)("div",{className:"mb-1 col-md-6",children:[Object(r.jsx)(o.N,{className:"form-label",children:"Image"}),Object(r.jsx)("div",{children:A&&A.includes("base64")?Object(r.jsx)("img",{src:A,style:{height:100},alt:""}):Object(r.jsx)("img",{src:Object(C.b)(A),style:{height:100},alt:""})}),Object(r.jsx)(g.a,{onFileChange:e=>_(e)})]}),Object(r.jsxs)("div",{className:" mb-1 col-md-12",children:[Object(r.jsxs)(o.N,{className:"form-label",for:"phone",children:["Status ",Object(r.jsx)("span",{className:"text-danger",children:"*"})]}),Object(r.jsxs)("div",{className:"demo-inline-spacing",children:[Object(r.jsxs)("div",{className:"form-check",children:[Object(r.jsx)(o.K,{type:"radio",id:"ex1-active",name:"ex1",checked:!0===h,onChange:()=>y(!0)}),Object(r.jsx)(o.N,{className:"form-check-label",for:"ex1-active",children:"Active"})]}),Object(r.jsxs)("div",{className:"form-check",children:[Object(r.jsx)(o.K,{type:"radio",name:"ex1",id:"ex1-inactive",checked:!1===h,onChange:()=>y(!1)}),Object(r.jsx)(o.N,{className:"form-check-label",for:"ex1-inactive",children:"InActive"})]})]})]}),Object(r.jsx)("div",{className:"mb-1 col-md-12",children:Object(r.jsx)(o.i,{type:"button",className:"me-1",color:"primary",onClick:()=>{L()},children:"Submit"})})]})]})]})})};var S=()=>{const e=Object(u.b)(),t=Object(u.c)((e=>e.cities)),[a,l]=(Object(u.c)((e=>e.cities.city)),Object(s.useState)("desc")),[i,n]=Object(s.useState)(""),[d,m]=Object(s.useState)(1),[O,p]=Object(s.useState)("id"),[g,C]=Object(s.useState)(10),[S,I]=Object(s.useState)(!1),[w,k]=Object(s.useState)({value:"",label:"Select Role"}),[F,P]=Object(s.useState)({value:"",label:"Select Status",number:0}),[E,q]=Object(s.useState)([]),[A,_]=Object(s.useState)(""),[K,L]=Object(s.useState)(""),B=Object(u.c)((e=>e.countries)),T=Object(u.c)((e=>e.states)),V=()=>I(!S);Object(s.useEffect)((()=>{e(Object(c.e)({sort:a,sortColumn:O,q:i,perPage:g,page:d,role:w.value,status:F.value,countryId:null===A||void 0===A?void 0:A.value,stateId:null===K||void 0===K?void 0:K.value})),e(Object(f.d)()),e(Object(N.d)())}),[]),Object(s.useEffect)((()=>{}),[e,a,O,d]);return Object(s.useEffect)((()=>{null!==t.selectedCity&&V()}),[t.selectedCity]),Object(r.jsxs)(s.Fragment,{children:[Object(r.jsxs)(o.l,{className:"overflow-hidden",children:[Object(r.jsx)("div",{className:"mt-2 px-4",children:Object(r.jsxs)(o.ib,{children:[Object(r.jsx)(o.B,{xl:"3",className:"d-flex align-items-center p-0",children:Object(r.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(r.jsx)("label",{htmlFor:"rows-per-page",children:"Show"}),Object(r.jsxs)(o.K,{className:"mx-50",type:"select",id:"rows-per-page",value:g,onChange:t=>{const s=parseInt(t.currentTarget.value);m(1),e(Object(c.e)({sort:a,sortColumn:O,q:i,perPage:s,page:1,role:w.value,status:F.value,countryId:null===A||void 0===A?void 0:A.value,stateId:null===K||void 0===K?void 0:K.value})),C(s)},style:{width:"5rem"},children:[Object(r.jsx)("option",{value:"1",children:"1"}),Object(r.jsx)("option",{value:"2",children:"2"}),Object(r.jsx)("option",{value:"10",children:"10"}),Object(r.jsx)("option",{value:"25",children:"25"}),Object(r.jsx)("option",{value:"50",children:"50"}),Object(r.jsx)("option",{value:"100",children:"100"}),Object(r.jsx)("option",{value:"500",children:"500"})]}),Object(r.jsx)("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),Object(r.jsx)(o.B,{xl:"3",lg:"3",sm:"3",xs:"3",children:Object(r.jsx)(b.a,{isClearable:!1,value:A,options:[{label:"View All",value:""},...B.countries.map((e=>({label:e.name,value:e._id})))],className:"col-6",onChange:t=>{console.log("data",t),_(t),e(Object(c.e)({sort:a,sortColumn:O,q:i,role:t.value,page:d,perPage:g,status:F.value,countryId:t.value,stateId:null===K||void 0===K?void 0:K.value}))}})}),Object(r.jsx)(o.B,{xl:"3",lg:"3",sm:"3",xs:"3",children:Object(r.jsx)(b.a,{isClearable:!1,value:K,options:[{label:"View All",value:""},...T.states.map((e=>({label:e.name,value:e._id})))],className:"col-6",onChange:t=>{console.log("data",t),L(t),e(Object(c.e)({sort:a,sortColumn:O,q:i,role:t.value,page:d,perPage:g,status:F.value,countryId:null===A||void 0===A?void 0:A.value,stateId:t.value}))}})}),Object(r.jsxs)(o.B,{xl:"3",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[Object(r.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[Object(r.jsx)("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),Object(r.jsx)(o.K,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:i,onChange:t=>{return s=t.target.value,n(s),void e(Object(c.e)({sort:a,q:s,sortColumn:O,page:d,perPage:g,role:w.value,status:F.value,countryId:null===A||void 0===A?void 0:A.value,stateId:null===K||void 0===K?void 0:K.value}));var s}})]}),Object(r.jsx)("div",{className:"d-flex align-items-center table-header-actions",children:Object(r.jsx)(o.i,{className:"add-new-user",color:"primary",onClick:V,children:"Add New"})})]})]})}),Object(r.jsx)("div",{className:"react-dataTable",children:Object(r.jsx)(x.a,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:j,onSort:(t,s)=>{l(s),p(t.sortField),e(Object(c.e)({sort:a,sortColumn:O,q:i,page:d,perPage:g,role:w.value,status:F.value,countryId:null===A||void 0===A?void 0:A.value,stateId:null===K||void 0===K?void 0:K.value}))},sortIcon:Object(r.jsx)(h.a,{}),className:"react-dataTable",paginationComponent:()=>{const s=Number(Math.ceil(t.total/g));return Object(r.jsx)(v.a,{previousLabel:"",nextLabel:"",pageCount:s||1,activeClassName:"active",forcePage:0!==d?d-1:0,onPageChange:t=>(t=>{e(Object(c.e)({sort:a,sortColumn:O,q:i,perPage:g,page:t.selected+1,role:w.value,status:F.value,countryId:null===A||void 0===A?void 0:A.value,stateId:null===K||void 0===K?void 0:K.value})),m(t.selected+1)})(t),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},data:(()=>{const e={role:w.value,status:F.value,q:i},a=Object.keys(e).some((function(t){return e[t].length>0}));return console.log(t,"citiesdsdds"),t.cities.length>0?t.cities:!t||0===t.cities.length&&a?[]:t.cities.slice(0,g)})()})})]}),Object(r.jsx)(y,{open:S,toggleSidebar:V})]})};a(526),a(523);t.default=()=>Object(r.jsx)("div",{className:"app-user-list",children:Object(r.jsx)(S,{})})}}]);
//# sourceMappingURL=168.d11f30f0.chunk.js.map
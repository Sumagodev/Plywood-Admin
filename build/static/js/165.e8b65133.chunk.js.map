{"version":3,"sources":["views/apps/roles-permissions/permissions/columns.js","views/apps/roles-permissions/permissions/Table.js","views/apps/roles-permissions/permissions/index.js"],"names":["colors","support","user","manager","administrator","columns","name","sortable","minWidth","cell","selector","row","assignedTo","map","assignee","index","isLastBadge","length","to","className","classnames","pill","color","replace","createdDate","sortFunction","rowA","rowB","Date","CustomHeader","role","setShow","searchTerm","rowsPerPage","handlePerPage","handleFilter","handleAssignedToChange","xs","lg","htmlFor","type","id","value","onChange","style","width","e","target","onClick","Table","dispatch","useDispatch","store","useSelector","state","permissions","reset","control","setError","setValue","handleSubmit","formState","errors","useForm","defaultValues","permissionName","show","useState","setAssignedTo","setSearchTerm","currentPage","setCurrentPage","setRowsPerPage","useEffect","getData","q","page","perPage","data","onSubmit","selected","updatePermission","addPermission","updatedColumns","size","handleEditClick","selectPermission","deletePermission","handleDiscard","noHeader","pagination","subHeader","responsive","paginationServer","sortIcon","paginationComponent","count","Number","Math","ceil","total","previousLabel","nextLabel","pageCount","activeClassName","forcePage","onPageChange","handlePagination","pageClassName","nextLinkClassName","nextClassName","previousClassName","previousLinkClassName","pageLinkClassName","containerClassName","filters","isFiltered","Object","keys","some","k","allData","slice","dataToRender","subHeaderComponent","val","parseInt","currentTarget","isOpen","onClosed","toggle","tag","Form","for","render","field","placeholder","invalid","outline","sm","Permissions"],"mappings":"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","file":"static/js/165.e8b65133.chunk.js","sourcesContent":["// ** React Imports\r\nimport { Link } from 'react-router-dom'\r\n\r\n// ** Third Party Components\r\nimport classnames from 'classnames'\r\n\r\n// ** Reactstrap Imports\r\nimport { Badge } from 'reactstrap'\r\n\r\n// ** Vars\r\nconst colors = {\r\n  support: 'light-info',\r\n  user: 'light-success',\r\n  manager: 'light-warning',\r\n  administrator: 'light-primary',\r\n  'restricted-user': 'light-danger'\r\n}\r\n\r\nexport const columns = [\r\n  {\r\n    name: 'Name',\r\n    sortable: true,\r\n    minWidth: '350px',\r\n    cell: ({ name }) => name,\r\n    selector: row => row.name\r\n  },\r\n  {\r\n    sortable: true,\r\n    minWidth: '350px',\r\n    name: 'Assigned To',\r\n    cell: ({ assignedTo }) => {\r\n      if (assignedTo) {\r\n        return assignedTo.map((assignee, index) => {\r\n          const isLastBadge = assignedTo[assignedTo.length - 1] === index\r\n          return (\r\n            <Link key={`${assignee}-${index}`} to='/apps/user/list' className={classnames({ 'me-50': !isLastBadge })}>\r\n              <Badge pill color={colors[assignee]} className='text-capitalize'>\r\n                {assignee.replace('-', ' ')}\r\n              </Badge>\r\n            </Link>\r\n          )\r\n        })\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  },\r\n  {\r\n    sortable: true,\r\n    minWidth: '350px',\r\n    name: 'Created Date',\r\n    selector: row => row.createdDate,\r\n    cell: ({ createdDate }) => createdDate,\r\n    sortFunction: (rowA, rowB) => {\r\n      return new Date(rowB.createdDate) - new Date(rowA.createdDate)\r\n    }\r\n  }\r\n]\r\n","// ** React Imports\r\nimport { useEffect, useState, Fragment } from 'react'\r\n\r\n// ** Table Columns\r\nimport { columns } from './columns'\r\n\r\n// ** Reactstrap Imports\r\nimport { Alert, Row, Col, Label, Form, Input, Button, Modal, ModalHeader, ModalBody, FormFeedback } from 'reactstrap'\r\n\r\n// ** Store & Actions\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getData, addPermission, deletePermission, selectPermission, updatePermission } from '../store'\r\n\r\n// ** Third party Components\r\nimport classnames from 'classnames'\r\nimport ReactPaginate from 'react-paginate'\r\nimport DataTable from 'react-data-table-component'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { ChevronDown, Edit, Trash } from 'react-feather'\r\n\r\n// ** Styles\r\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\r\n\r\nconst CustomHeader = ({\r\n  role,\r\n  setShow,\r\n  searchTerm,\r\n  rowsPerPage,\r\n  handlePerPage,\r\n  handleFilter,\r\n  handleAssignedToChange\r\n}) => {\r\n  return (\r\n    <Row className='text-nowrap w-100 my-75 g-0 permission-header'>\r\n      <Col xs={12} lg={4} className='d-flex align-items-center'>\r\n        <div className='d-flex align-items-center justify-content-center justify-content-lg-start'>\r\n          <label htmlFor='rows-per-page'>Show</label>\r\n          <Input\r\n            className='mx-50'\r\n            type='select'\r\n            id='rows-per-page'\r\n            value={rowsPerPage}\r\n            onChange={handlePerPage}\r\n            style={{ width: '5rem' }}\r\n          >\r\n            <option value='10'>10</option>\r\n            <option value='25'>25</option>\r\n            <option value='50'>50</option>\r\n          </Input>\r\n          <label htmlFor='rows-per-page'>Entries</label>\r\n        </div>\r\n      </Col>\r\n      <Col xs={12} lg={8}>\r\n        <div className='d-flex align-items-center justify-content-lg-end justify-content-start flex-md-nowrap flex-wrap mt-lg-0 mt-1'>\r\n          <div className='d-flex align-items-center me-1'>\r\n            <label className='mb-0' htmlFor='search-permission'>\r\n              Search:\r\n            </label>\r\n            <Input\r\n              type='text'\r\n              value={searchTerm}\r\n              id='search-permission'\r\n              className='ms-50 w-100'\r\n              onChange={e => handleFilter(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className='mt-50 width-200 me-1 mt-sm-0 mt-1'>\r\n            <Input type='select' name='select' value={role} onChange={e => handleAssignedToChange(e.target.value)}>\r\n              <option value=''>Select Role</option>\r\n              <option value='administrator'>Administrator</option>\r\n              <option value='manager'>Manager</option>\r\n              <option value='user'>User</option>\r\n              <option value='support'>Support</option>\r\n              <option value='restricted-user'>Restricted User</option>\r\n            </Input>\r\n          </div>\r\n          <Button className='add-permission mt-sm-0 mt-1' color='primary' onClick={() => setShow(true)}>\r\n            Add Permission\r\n          </Button>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst Table = () => {\r\n  // ** Store Vars & Hooks\r\n  const dispatch = useDispatch()\r\n  const store = useSelector(state => state.permissions)\r\n  const {\r\n    reset,\r\n    control,\r\n    setError,\r\n    setValue,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm({ defaultValues: { permissionName: '' } })\r\n\r\n  // ** States\r\n  const [show, setShow] = useState(false)\r\n  const [assignedTo, setAssignedTo] = useState('')\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [rowsPerPage, setRowsPerPage] = useState(10)\r\n\r\n  // ** Get data on mount\r\n  useEffect(() => {\r\n    dispatch(\r\n      getData({\r\n        assignedTo,\r\n        q: searchTerm,\r\n        page: currentPage,\r\n        perPage: rowsPerPage\r\n      })\r\n    )\r\n  }, [dispatch, store.data.length])\r\n\r\n  // ** Function in get data on page change\r\n  const handlePagination = page => {\r\n    dispatch(\r\n      getData({\r\n        assignedTo,\r\n        q: searchTerm,\r\n        perPage: rowsPerPage,\r\n        page: page.selected + 1\r\n      })\r\n    )\r\n    setCurrentPage(page.selected + 1)\r\n  }\r\n\r\n  // ** Function in get data on rows per page\r\n  const handlePerPage = e => {\r\n    const value = parseInt(e.currentTarget.value)\r\n    dispatch(\r\n      getData({\r\n        assignedTo,\r\n        q: searchTerm,\r\n        perPage: value,\r\n        page: currentPage\r\n      })\r\n    )\r\n    setRowsPerPage(value)\r\n  }\r\n\r\n  // ** Function in get data on search query change\r\n  const handleFilter = val => {\r\n    setSearchTerm(val)\r\n    dispatch(\r\n      getData({\r\n        q: val,\r\n        assignedTo,\r\n        page: currentPage,\r\n        perPage: rowsPerPage\r\n      })\r\n    )\r\n  }\r\n\r\n  // ** Function to filter Roles\r\n  const handleAssignedToChange = val => {\r\n    setAssignedTo(val)\r\n    dispatch(\r\n      getData({\r\n        q: searchTerm,\r\n        assignedTo: val,\r\n        page: currentPage,\r\n        perPage: rowsPerPage\r\n      })\r\n    )\r\n  }\r\n\r\n  // ** Custom Pagination\r\n  const CustomPagination = () => {\r\n    const count = Number(Math.ceil(store.total / rowsPerPage))\r\n\r\n    return (\r\n      <ReactPaginate\r\n        previousLabel={''}\r\n        nextLabel={''}\r\n        pageCount={count || 1}\r\n        activeClassName='active'\r\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n        onPageChange={page => handlePagination(page)}\r\n        pageClassName={'page-item'}\r\n        nextLinkClassName={'page-link'}\r\n        nextClassName={'page-item next'}\r\n        previousClassName={'page-item prev'}\r\n        previousLinkClassName={'page-link'}\r\n        pageLinkClassName={'page-link'}\r\n        containerClassName={'pagination react-paginate justify-content-end my-2 pe-1'}\r\n      />\r\n    )\r\n  }\r\n\r\n  // ** Table data to render\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      q: searchTerm\r\n    }\r\n\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n\r\n    if (store.data.length > 0) {\r\n      return store.data\r\n    } else if (store.data.length === 0 && isFiltered) {\r\n      return []\r\n    } else {\r\n      return store.allData.slice(0, rowsPerPage)\r\n    }\r\n  }\r\n\r\n  const handleEditClick = data => {\r\n    dispatch(selectPermission(data))\r\n    setValue('permissionName', data.name)\r\n    setShow(true)\r\n  }\r\n\r\n  const handleModalClosed = () => {\r\n    dispatch(selectPermission(null))\r\n    setValue('permissionName', '')\r\n  }\r\n\r\n  const onSubmit = data => {\r\n    if (data.permissionName.length) {\r\n      if (store.selected !== null) {\r\n        dispatch(updatePermission({ name: data.permissionName, id: store.selected.id }))\r\n      } else {\r\n        dispatch(addPermission({ name: data.permissionName }))\r\n      }\r\n      setShow(false)\r\n    } else {\r\n      setError('permissionName', {\r\n        type: 'manual'\r\n      })\r\n    }\r\n  }\r\n\r\n  const updatedColumns = [\r\n    ...columns,\r\n    {\r\n      name: 'Actions',\r\n      cell: row => {\r\n        return (\r\n          <div className='d-flex align-items-center permissions-actions'>\r\n            <Button size='sm' color='transparent' className='btn btn-icon' onClick={() => handleEditClick(row)}>\r\n              <Edit className='font-medium-2' />\r\n            </Button>\r\n            <Button\r\n              size='sm'\r\n              color='transparent'\r\n              className='btn btn-icon'\r\n              onClick={() => dispatch(deletePermission(row.id))}\r\n            >\r\n              <Trash className='font-medium-2' />\r\n            </Button>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n\r\n  const handleDiscard = () => {\r\n    reset()\r\n    setShow(false)\r\n  }\r\n\r\n  const renderModalSubtitle = () => {\r\n    if (store.selected !== null) {\r\n      return 'Edit permission as per your requirements.'\r\n    } else {\r\n      return 'Permissions you may use and assign to your users.'\r\n    }\r\n  }\r\n\r\n  const renderForm = () => {\r\n    if (store.selected === null) {\r\n      return (\r\n        <Row tag={Form} onSubmit={handleSubmit(onSubmit)}>\r\n          <Col xs={12}>\r\n            <Label className='form-label' for='permission-name'>\r\n              Permission Name\r\n            </Label>\r\n            <Controller\r\n              control={control}\r\n              id='permissionName'\r\n              name='permissionName'\r\n              render={({ field }) => (\r\n                <Input placeholder='Permission Name' invalid={errors.permissionName && true} {...field} />\r\n              )}\r\n            />\r\n            {errors && errors.permissionName && <FormFeedback>Please enter a valid Permission Name</FormFeedback>}\r\n          </Col>\r\n          <Col xs={12} className='mt-75'>\r\n            <div className='form-check'>\r\n              <Input type='checkbox' id='core-perm-checkbox' />\r\n              <Label className='form-check-label' for='core-perm-checkbox'>\r\n                Set as core permission\r\n              </Label>\r\n            </div>\r\n          </Col>\r\n          <Col xs={12} className='text-center mt-2'>\r\n            <Button className='me-1' color='primary'>\r\n              Create Permission\r\n            </Button>\r\n            <Button outline type='reset' onClick={handleDiscard}>\r\n              Discard\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      )\r\n    } else {\r\n      return (\r\n        <Fragment>\r\n          <Alert color='warning'>\r\n            <h6 className='alert-heading'>Warning!</h6>\r\n            <div className='alert-body'>\r\n              By editing the permission name, you might break the system permissions functionality. Please ensure you're\r\n              absolutely certain before proceeding.\r\n            </div>\r\n          </Alert>\r\n          <Row tag={Form} onSubmit={handleSubmit(onSubmit)}>\r\n            <Col xs={12} sm={9}>\r\n              <Label className='form-label' for='permission-name'>\r\n                Permission Name\r\n              </Label>\r\n              <Controller\r\n                control={control}\r\n                id='permissionName'\r\n                name='permissionName'\r\n                render={({ field }) => (\r\n                  <Input placeholder='Permission Name' invalid={errors.permissionName && true} {...field} />\r\n                )}\r\n              />\r\n              {errors && errors.permissionName && <FormFeedback>Please enter a valid Permission Name</FormFeedback>}\r\n            </Col>\r\n            <Col xs={12} sm={3} className='p-sm-0'>\r\n              <Button className='mt-2' color='primary'>\r\n                Update\r\n              </Button>\r\n            </Col>\r\n            <Col xs={12} className='mt-75'>\r\n              <div className='form-check'>\r\n                <Input type='checkbox' id='core-perm-checkbox' />\r\n\r\n                <Label className='form-check-label' for='core-perm-checkbox'>\r\n                  Set as core permission\r\n                </Label>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Fragment>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className='react-dataTable'>\r\n        <DataTable\r\n          noHeader\r\n          pagination\r\n          subHeader\r\n          responsive\r\n          paginationServer\r\n          columns={updatedColumns}\r\n          sortIcon={<ChevronDown />}\r\n          className='react-dataTable'\r\n          paginationComponent={CustomPagination}\r\n          data={dataToRender()}\r\n          subHeaderComponent={\r\n            <CustomHeader\r\n              setShow={setShow}\r\n              assignedTo={assignedTo}\r\n              searchTerm={searchTerm}\r\n              rowsPerPage={rowsPerPage}\r\n              handleFilter={handleFilter}\r\n              handlePerPage={handlePerPage}\r\n              handleAssignedToChange={handleAssignedToChange}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n      <Modal isOpen={show} onClosed={handleModalClosed} toggle={() => setShow(!show)} className='modal-dialog-centered'>\r\n        <ModalHeader className='bg-transparent' toggle={() => setShow(!show)}></ModalHeader>\r\n        <ModalBody\r\n          className={classnames({\r\n            'p-3 pt-0': store.selected !== null,\r\n            'px-sm-5 pb-5': store.selected === null\r\n          })}\r\n        >\r\n          <div className='text-center mb-2'>\r\n            <h1 className='mb-1'>{store.selected !== null ? 'Edit' : 'Add New'} Permission</h1>\r\n            <p>{renderModalSubtitle()}</p>\r\n          </div>\r\n\r\n          {renderForm()}\r\n        </ModalBody>\r\n      </Modal>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Table\r\n","// ** React Imports\r\nimport { Fragment } from 'react'\r\n\r\n// ** Reactstrap Imports\r\nimport { Card } from 'reactstrap'\r\n\r\n// ** Table Import\r\nimport Table from './Table'\r\n\r\nconst Permissions = () => {\r\n  return (\r\n    <Fragment>\r\n      <h3>Permissions List</h3>\r\n      <p>Each category (Basic, Professional, and Business) includes the four predefined roles shown below.</p>\r\n      <Card>\r\n        <div className='card-datatable app-user-list table-responsive'>\r\n          <Table />\r\n        </div>\r\n      </Card>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Permissions\r\n"],"sourceRoot":""}
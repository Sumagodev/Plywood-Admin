(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[171],{1809:function(e,a,t){"use strict";t.r(a);var s=t(1),c=(t(500),t(139)),l=t(157),n=(t(858),t(859),t(860),t(861),t(862),t(975)),r=t(898),i=t(870),o=t(102),j=t(9),d=t(12);const b={pending:"light-warning",active:"light-success",inactive:"light-secondary"},m=[{name:"Name",sortable:!0,sortField:"name",width:"15%",cell:e=>e.name},{name:"Level",sortable:!0,sortField:"level",width:"15%",cell:e=>e.level},{name:"Image",sortable:!0,sortField:"image",width:"15%",cell:e=>e.image?Object(d.jsx)("img",{src:Object(j.b)(e.image),width:"50px",height:"50px"}):"No Image"},{name:"Status",sortable:!0,sortField:"status",selector:e=>e.status,cell:e=>Object(d.jsx)(o.f,{className:"text-capitalize",color:b[!0===e.status?"active":"inactive"],pill:!0,children:!0===e.status?"Active":"Inactive"})},{name:"Actions",cell:e=>Object(d.jsx)("div",{className:"column-action",children:Object(d.jsxs)(o.wb,{children:[Object(d.jsx)(o.G,{tag:"div",className:"btn btn-sm",children:Object(d.jsx)(n.a,{size:14,className:"cursor-pointer"})}),Object(d.jsxs)(o.F,{children:[Object(d.jsxs)(o.E,{tag:"a",href:"/",className:"w-100",onClick:a=>{a.preventDefault(),c.a.dispatch(Object(l.d)(e._id))},children:[Object(d.jsx)(r.a,{size:14,className:"me-50"}),Object(d.jsx)("span",{className:"align-middle",children:"Edit"})]}),Object(d.jsxs)(o.E,{tag:"a",href:"/",className:"w-100",onClick:a=>{a.preventDefault(),c.a.dispatch(Object(l.c)(e._id))},children:[Object(d.jsx)(i.a,{size:14,className:"me-50"}),Object(d.jsx)("span",{className:"align-middle",children:"Delete"})]})]})]})})}];var h=t(138),x=t(505),O=t.n(x),u=t(883),g=t(503),p=t.n(g),v=(t(504),t(508),t(518)),N=(t(569),t(501),t(5),t(3)),f=t(536),C=t(49);var S=e=>{let{open:a,toggleSidebar:t}=e;const c=Object(h.c)((e=>e.categories)),[n,r]=Object(s.useState)(""),[i,j]=Object(s.useState)(""),[b,m]=Object(s.useState)(),[x,O]=Object(s.useState)(),[u,g]=Object(s.useState)(!0),[p,v]=Object(s.useState)(!1),[S,y]=Object(s.useState)({}),[w,k]=Object(s.useState)([]),[F,I]=Object(s.useState)(""),[D,E]=Object(s.useState)([]),P=Object(h.b)(),q=()=>{(""!==`${n}`||(Object(N.a)("Please Fill name"),0))&&(t(),P(!0===p?Object(l.f)({name:n,description:i,status:u,image:b,bannerImage:x,parentCategoryId:F,id:S._id}):Object(l.a)({name:n,description:i,status:u,image:b,parentCategoryId:F,bannerImage:x})))};Object(s.useEffect)((()=>{c.allData.length>0&&(k(c.allData),console.log(c.allData,"store.allData"))}),[c.allData]),Object(s.useEffect)((()=>{if(null!==c.selectedCategory){const e=c.selectedCategory;y(e),v(!0),r(e.name),j(e.description),m(e.image),g(e.status),I(e.parentCategoryId),O(e.bannerImage)}else y({}),v(!1),r(""),j(""),m(""),O("")}),[c.selectedCategory]);return Object(s.useEffect)((()=>{(async()=>{try{const e="level=1",{data:a}=await Object(C.d)(e);if(console.log(a,"response"),a.data){const e=a.data.filter((e=>1===e.level));console.log(e,"store.allData parentCat"),E(e)}}catch(e){Object(N.a)(e)}})()}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(o.Q,{isOpen:a,onClosed:()=>{},toggle:t,className:"modal-dialog-centered modal-lg",children:[Object(d.jsx)(o.T,{className:"bg-transparent",toggle:t}),Object(d.jsxs)(o.R,{className:"px-3 pb-3",children:[Object(d.jsx)("div",{className:"text-center",children:Object(d.jsxs)("h2",{children:[p?"Update":"Add","  Category"]})}),Object(d.jsxs)(o.H,{className:"row",children:[Object(d.jsxs)("div",{className:"mb-1 col-md-6",children:[Object(d.jsxs)(o.N,{className:"form-label",for:"fullName",children:["Name ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(o.K,{className:"form-control",value:n,onChange:e=>r(e.target.value)})]}),Object(d.jsxs)("div",{className:"mb-1 col-md-6",children:[Object(d.jsxs)(o.N,{className:"form-label",for:"fullName",children:["Category ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsxs)("select",{className:"form-control",value:F,onChange:e=>I(e.target.value),children:[Object(d.jsx)("option",{value:"",children:"None"}),D&&D.length>0&&D.map((e=>Object(d.jsx)("option",{value:e._id,children:e.name})))]})]}),Object(d.jsxs)("div",{className:"mb-1 col-md-12",children:[Object(d.jsx)(o.N,{className:"form-label",for:"userEmail",children:"Description"}),Object(d.jsx)(o.K,{type:"textarea",name:"text",id:"exampleText",value:i,onChange:e=>j(e.target.value),rows:"3",placeholder:"Description"})]}),Object(d.jsxs)("div",{className:" mb-1 col-md-12",children:[Object(d.jsxs)(o.N,{className:"form-label",for:"phone",children:["Status ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsxs)("div",{className:"demo-inline-spacing",children:[Object(d.jsxs)("div",{className:"form-check",children:[Object(d.jsx)(o.K,{type:"radio",id:"ex1-active",name:"ex1",checked:!0===u,onChange:()=>g(!0)}),Object(d.jsx)(o.N,{className:"form-check-label",for:"ex1-active",children:"Active"})]}),Object(d.jsxs)("div",{className:"form-check",children:[Object(d.jsx)(o.K,{type:"radio",name:"ex1",id:"ex1-inactive",checked:!1===u,onChange:()=>g(!1)}),Object(d.jsx)(o.N,{className:"form-check-label",for:"ex1-inactive",children:"InActive"})]})]})]}),Object(d.jsxs)("div",{className:"mb-1 col-md-6",children:[Object(d.jsx)(o.N,{className:"form-label",children:"Image (width:463px and height:400 px)"}),Object(d.jsx)(f.a,{onFileChange:e=>m(e)})]}),Object(d.jsxs)("div",{className:"mb-1 col-md-6",children:[Object(d.jsx)(o.N,{className:"form-label",children:"Banner Image (width:937px and height:400 px)"}),Object(d.jsx)(f.a,{onFileChange:e=>O(e)})]}),Object(d.jsx)("div",{className:"mb-1 col-md-12",children:Object(d.jsx)(o.i,{type:"button",className:"me-1",color:"primary",onClick:()=>{q()},children:"Submit"})})]})]})]})})};var y=()=>{const e=Object(h.b)(),a=Object(h.c)((e=>e.categories)),[t,c]=(Object(h.c)((e=>e.categories.allData)),Object(s.useState)("desc")),[n,r]=Object(s.useState)(""),[i,j]=Object(s.useState)(1),[b,x]=Object(s.useState)("id"),[g,N]=Object(s.useState)(10),[f,C]=Object(s.useState)(!1),[y,w]=Object(s.useState)({value:"",label:"Select Role"}),[k,F]=Object(s.useState)({value:"",label:"Select Status",number:0}),[I,D]=Object(s.useState)([]),E=()=>C(!f);Object(s.useEffect)((()=>{e(Object(l.e)({sort:t,sortColumn:b,q:n,page:i,perPage:g,role:y.value,status:k.value})),console.log(a.data,"sdfjasdfjkdsfhdsjkfdsjkfhjk");const s=Object.values(v.a).map((e=>({label:e,value:e})));D(s)}),[e,a.data.length,t,b,i]);return Object(s.useEffect)((()=>{null!==a.selectedCategory&&E()}),[a.selectedCategory]),Object(d.jsxs)(s.Fragment,{children:[Object(d.jsxs)(o.l,{className:"overflow-hidden",children:[Object(d.jsx)("div",{className:"invoice-list-table-header mt-2 mx-2 ms-3",children:Object(d.jsxs)(o.ib,{children:[Object(d.jsx)(o.B,{xl:"6",className:"d-flex align-items-center p-0",children:Object(d.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(d.jsx)("label",{htmlFor:"rows-per-page",children:"Show"}),Object(d.jsxs)(o.K,{className:"mx-50",type:"select",id:"rows-per-page",value:g,onChange:a=>{const s=parseInt(a.currentTarget.value);j(1),e(Object(l.e)({sort:t,sortColumn:b,q:n,perPage:s,page:1,role:y.value,status:k.value})),N(s)},style:{width:"5rem"},children:[Object(d.jsx)("option",{value:"10",children:"10"}),Object(d.jsx)("option",{value:"25",children:"25"}),Object(d.jsx)("option",{value:"50",children:"50"}),Object(d.jsx)("option",{value:"100",children:"100"}),Object(d.jsx)("option",{value:"500",children:"500"})]}),Object(d.jsx)("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),Object(d.jsxs)(o.B,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[Object(d.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[Object(d.jsx)("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),Object(d.jsx)(o.K,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:n,onChange:a=>{return s=a.target.value,r(s),void e(Object(l.e)({sort:t,q:s,sortColumn:b,page:i,perPage:g,role:y.value,status:k.value}));var s}})]}),Object(d.jsx)("div",{className:"d-flex align-items-center table-header-actions",children:Object(d.jsx)(o.i,{className:"add-new-user",color:"primary",onClick:E,children:"Add New"})})]})]})}),Object(d.jsx)("div",{className:"react-dataTable",children:Object(d.jsx)(O.a,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:m,onSort:(a,s)=>{c(s),x(a.sortField),e(Object(l.e)({sort:t,sortColumn:b,q:n,page:i,perPage:g,role:y.value,status:k.value}))},sortIcon:Object(d.jsx)(u.a,{}),className:"react-dataTable",paginationComponent:()=>{const s=Number(Math.ceil(a.total/g));return Object(d.jsx)(p.a,{previousLabel:"",nextLabel:"",pageCount:s||1,activeClassName:"active",forcePage:0!==i?i-1:0,onPageChange:a=>(a=>{e(Object(l.e)({sort:t,sortColumn:b,q:n,perPage:g,page:a.selected+1,role:y.value,status:k.value})),j(a.selected+1)})(a),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},data:(()=>{const e={role:y.value,status:k.value,q:n},t=Object.keys(e).some((function(a){return e[a].length>0}));return a.data.length>0?a.data:0===a.data.length&&t?[]:a.data})()})})]}),Object(d.jsx)(S,{open:f,toggleSidebar:E})]})};t(526),t(523);a.default=()=>Object(d.jsx)("div",{className:"app-user-list",children:Object(d.jsx)(y,{})})}}]);
//# sourceMappingURL=171.0a748959.chunk.js.map
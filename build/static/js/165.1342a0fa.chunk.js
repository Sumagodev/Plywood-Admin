(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[165],{1817:function(e,s,t){"use strict";t.r(s);var a=t(1),n=t(102),c=t(137),r=t(5),i=t.n(r),l=t(12);const o={support:"light-info",user:"light-success",manager:"light-warning",administrator:"light-primary","restricted-user":"light-danger"},m=[{name:"Name",sortable:!0,minWidth:"350px",cell:e=>{let{name:s}=e;return s},selector:e=>e.name},{sortable:!0,minWidth:"350px",name:"Assigned To",cell:e=>{let{assignedTo:s}=e;return s?s.map(((e,t)=>{const a=s[s.length-1]===t;return Object(l.jsx)(c.b,{to:"/apps/user/list",className:i()({"me-50":!a}),children:Object(l.jsx)(n.f,{pill:!0,color:o[e],className:"text-capitalize",children:e.replace("-"," ")})},`${e}-${t}`)})):null}},{sortable:!0,minWidth:"350px",name:"Created Date",selector:e=>e.createdDate,cell:e=>{let{createdDate:s}=e;return s},sortFunction:(e,s)=>new Date(s.createdDate)-new Date(e.createdDate)}];var d=t(138),j=t(189),b=t(504),p=t.n(b),h=t(506),x=t.n(h),g=t(507),O=t(870),u=t(885),N=t(884);t(509);const v=e=>{let{role:s,setShow:t,searchTerm:a,rowsPerPage:c,handlePerPage:r,handleFilter:i,handleAssignedToChange:o}=e;return Object(l.jsxs)(n.ib,{className:"text-nowrap w-100 my-75 g-0 permission-header",children:[Object(l.jsx)(n.B,{xs:12,lg:4,className:"d-flex align-items-center",children:Object(l.jsxs)("div",{className:"d-flex align-items-center justify-content-center justify-content-lg-start",children:[Object(l.jsx)("label",{htmlFor:"rows-per-page",children:"Show"}),Object(l.jsxs)(n.K,{className:"mx-50",type:"select",id:"rows-per-page",value:c,onChange:r,style:{width:"5rem"},children:[Object(l.jsx)("option",{value:"10",children:"10"}),Object(l.jsx)("option",{value:"25",children:"25"}),Object(l.jsx)("option",{value:"50",children:"50"})]}),Object(l.jsx)("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),Object(l.jsx)(n.B,{xs:12,lg:8,children:Object(l.jsxs)("div",{className:"d-flex align-items-center justify-content-lg-end justify-content-start flex-md-nowrap flex-wrap mt-lg-0 mt-1",children:[Object(l.jsxs)("div",{className:"d-flex align-items-center me-1",children:[Object(l.jsx)("label",{className:"mb-0",htmlFor:"search-permission",children:"Search:"}),Object(l.jsx)(n.K,{type:"text",value:a,id:"search-permission",className:"ms-50 w-100",onChange:e=>i(e.target.value)})]}),Object(l.jsx)("div",{className:"mt-50 width-200 me-1 mt-sm-0 mt-1",children:Object(l.jsxs)(n.K,{type:"select",name:"select",value:s,onChange:e=>o(e.target.value),children:[Object(l.jsx)("option",{value:"",children:"Select Role"}),Object(l.jsx)("option",{value:"administrator",children:"Administrator"}),Object(l.jsx)("option",{value:"manager",children:"Manager"}),Object(l.jsx)("option",{value:"user",children:"User"}),Object(l.jsx)("option",{value:"support",children:"Support"}),Object(l.jsx)("option",{value:"restricted-user",children:"Restricted User"})]})}),Object(l.jsx)(n.i,{className:"add-permission mt-sm-0 mt-1",color:"primary",onClick:()=>t(!0),children:"Add Permission"})]})})]})};var f=()=>{const e=Object(d.b)(),s=Object(d.c)((e=>e.permissions)),{reset:t,control:c,setError:r,setValue:o,handleSubmit:b,formState:{errors:h}}=Object(g.e)({defaultValues:{permissionName:""}}),[f,y]=Object(a.useState)(!1),[P,k]=Object(a.useState)(""),[w,C]=Object(a.useState)(""),[S,T]=Object(a.useState)(1),[B,D]=Object(a.useState)(10);Object(a.useEffect)((()=>{e(Object(j.d)({assignedTo:P,q:w,page:S,perPage:B}))}),[e,s.data.length]);const F=t=>{t.permissionName.length?(null!==s.selected?e(Object(j.f)({name:t.permissionName,id:s.selected.id})):e(Object(j.a)({name:t.permissionName})),y(!1)):r("permissionName",{type:"manual"})},q=[...m,{name:"Actions",cell:s=>Object(l.jsxs)("div",{className:"d-flex align-items-center permissions-actions",children:[Object(l.jsx)(n.i,{size:"sm",color:"transparent",className:"btn btn-icon",onClick:()=>{return t=s,e(Object(j.e)(t)),o("permissionName",t.name),void y(!0);var t},children:Object(l.jsx)(O.a,{className:"font-medium-2"})}),Object(l.jsx)(n.i,{size:"sm",color:"transparent",className:"btn btn-icon",onClick:()=>e(Object(j.c)(s.id)),children:Object(l.jsx)(u.a,{className:"font-medium-2"})})]})}],A=()=>{t(),y(!1)};return Object(l.jsxs)(a.Fragment,{children:[Object(l.jsx)("div",{className:"react-dataTable",children:Object(l.jsx)(x.a,{noHeader:!0,pagination:!0,subHeader:!0,responsive:!0,paginationServer:!0,columns:q,sortIcon:Object(l.jsx)(N.a,{}),className:"react-dataTable",paginationComponent:()=>{const t=Number(Math.ceil(s.total/B));return Object(l.jsx)(p.a,{previousLabel:"",nextLabel:"",pageCount:t||1,activeClassName:"active",forcePage:0!==S?S-1:0,onPageChange:s=>(s=>{e(Object(j.d)({assignedTo:P,q:w,perPage:B,page:s.selected+1})),T(s.selected+1)})(s),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},data:(()=>{const e={q:w},t=Object.keys(e).some((function(s){return e[s].length>0}));return s.data.length>0?s.data:0===s.data.length&&t?[]:s.allData.slice(0,B)})(),subHeaderComponent:Object(l.jsx)(v,{setShow:y,assignedTo:P,searchTerm:w,rowsPerPage:B,handleFilter:s=>{C(s),e(Object(j.d)({q:s,assignedTo:P,page:S,perPage:B}))},handlePerPage:s=>{const t=parseInt(s.currentTarget.value);e(Object(j.d)({assignedTo:P,q:w,perPage:t,page:S})),D(t)},handleAssignedToChange:s=>{k(s),e(Object(j.d)({q:w,assignedTo:s,page:S,perPage:B}))}})})}),Object(l.jsxs)(n.Q,{isOpen:f,onClosed:()=>{e(Object(j.e)(null)),o("permissionName","")},toggle:()=>y(!f),className:"modal-dialog-centered",children:[Object(l.jsx)(n.T,{className:"bg-transparent",toggle:()=>y(!f)}),Object(l.jsxs)(n.R,{className:i()({"p-3 pt-0":null!==s.selected,"px-sm-5 pb-5":null===s.selected}),children:[Object(l.jsxs)("div",{className:"text-center mb-2",children:[Object(l.jsxs)("h1",{className:"mb-1",children:[null!==s.selected?"Edit":"Add New"," Permission"]}),Object(l.jsx)("p",{children:null!==s.selected?"Edit permission as per your requirements.":"Permissions you may use and assign to your users."})]}),null===s.selected?Object(l.jsxs)(n.ib,{tag:n.H,onSubmit:b(F),children:[Object(l.jsxs)(n.B,{xs:12,children:[Object(l.jsx)(n.N,{className:"form-label",for:"permission-name",children:"Permission Name"}),Object(l.jsx)(g.a,{control:c,id:"permissionName",name:"permissionName",render:e=>{let{field:s}=e;return Object(l.jsx)(n.K,{placeholder:"Permission Name",invalid:h.permissionName&&!0,...s})}}),h&&h.permissionName&&Object(l.jsx)(n.I,{children:"Please enter a valid Permission Name"})]}),Object(l.jsx)(n.B,{xs:12,className:"mt-75",children:Object(l.jsxs)("div",{className:"form-check",children:[Object(l.jsx)(n.K,{type:"checkbox",id:"core-perm-checkbox"}),Object(l.jsx)(n.N,{className:"form-check-label",for:"core-perm-checkbox",children:"Set as core permission"})]})}),Object(l.jsxs)(n.B,{xs:12,className:"text-center mt-2",children:[Object(l.jsx)(n.i,{className:"me-1",color:"primary",children:"Create Permission"}),Object(l.jsx)(n.i,{outline:!0,type:"reset",onClick:A,children:"Discard"})]})]}):Object(l.jsxs)(a.Fragment,{children:[Object(l.jsxs)(n.e,{color:"warning",children:[Object(l.jsx)("h6",{className:"alert-heading",children:"Warning!"}),Object(l.jsx)("div",{className:"alert-body",children:"By editing the permission name, you might break the system permissions functionality. Please ensure you're absolutely certain before proceeding."})]}),Object(l.jsxs)(n.ib,{tag:n.H,onSubmit:b(F),children:[Object(l.jsxs)(n.B,{xs:12,sm:9,children:[Object(l.jsx)(n.N,{className:"form-label",for:"permission-name",children:"Permission Name"}),Object(l.jsx)(g.a,{control:c,id:"permissionName",name:"permissionName",render:e=>{let{field:s}=e;return Object(l.jsx)(n.K,{placeholder:"Permission Name",invalid:h.permissionName&&!0,...s})}}),h&&h.permissionName&&Object(l.jsx)(n.I,{children:"Please enter a valid Permission Name"})]}),Object(l.jsx)(n.B,{xs:12,sm:3,className:"p-sm-0",children:Object(l.jsx)(n.i,{className:"mt-2",color:"primary",children:"Update"})}),Object(l.jsx)(n.B,{xs:12,className:"mt-75",children:Object(l.jsxs)("div",{className:"form-check",children:[Object(l.jsx)(n.K,{type:"checkbox",id:"core-perm-checkbox"}),Object(l.jsx)(n.N,{className:"form-check-label",for:"core-perm-checkbox",children:"Set as core permission"})]})})]})]})]})]})]})};s.default=()=>Object(l.jsxs)(a.Fragment,{children:[Object(l.jsx)("h3",{children:"Permissions List"}),Object(l.jsx)("p",{children:"Each category (Basic, Professional, and Business) includes the four predefined roles shown below."}),Object(l.jsx)(n.l,{children:Object(l.jsx)("div",{className:"card-datatable app-user-list table-responsive",children:Object(l.jsx)(f,{})})})]})}}]);
//# sourceMappingURL=165.1342a0fa.chunk.js.map
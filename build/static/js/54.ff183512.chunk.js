(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[54],{1445:function(e,a,t){},1797:function(e,a,t){"use strict";t.r(a);var l=t(1),s=t(888),i=t(507),c=t(102),n=t(138),r=t(150),d=t(520),o=t.n(d),b=t(676),m=t(886),j=t(938),h=t(600),u=t(508),g=t(532),O=t.n(g),x=t(502),p=t(24),f=t(37),v=t(38),N=t(36),k=t(42),T=t(77),C=(t(518),t(505),t(652),t(12));const y=[{value:"Pheobe Buffay",label:"Pheobe Buffay",img:p.default},{value:"Chandler Bing",label:"Chandler Bing",img:f.default},{value:"Ross Geller",label:"Ross Geller",img:v.default},{value:"Monica Geller",label:"Monica Geller",img:N.default},{value:"Joey Tribbiani",label:"Joey Tribbiani",img:k.default},{value:"Rachel Green",label:"Rachel Green",img:T.default},{value:"Jerry Seinfeld",label:"Jerry Seinfeld",img:v.default},{value:"Jerry Seinfeld",label:"Jerry Seinfeld",img:v.default},{value:"Astro Kramer",label:"Astro Kramer",img:f.default},{value:"George Costanza",label:"George Costanza",img:k.default},{value:"Charlie Kelly",label:"Charlie Kelly",img:N.default},{value:"Dennis Reynolds",label:"Dennis Reynolds",img:v.default}],S=[{value:"UX",label:"UX"},{value:"App",label:"App"},{value:"Forms",label:"Forms"},{value:"Images",label:"Images"},{value:"Code Review",label:"Code Review"},{value:"Charts & Maps",label:"Charts & Maps"}];var w=e=>{const{sidebarOpen:a,labelColors:t,selectedTask:s,handleTaskSidebarToggle:d}=e,[g,p]=Object(l.useState)(""),[f,v]=Object(l.useState)([]),[N,k]=Object(l.useState)([]),[T,w]=Object(l.useState)(new Date),[I,z]=Object(l.useState)(null),R=Object(n.b)(),{getRootProps:D,getInputProps:A}=Object(b.a)({multiple:!1,onDrop:e=>{v([...e.map((e=>Object.assign(e)))])}}),{control:B,setError:F,setValue:L,clearErrors:$,handleSubmit:J,formState:{errors:P}}=Object(i.e)({defaultValues:{title:""}});return Object(C.jsx)(c.Q,{isOpen:a,className:"sidebar-lg",contentClassName:"p-0",onOpened:()=>{if(!Object(x.f)(s)){if(L("title",s.title),w(s.dueDate),p(s.description),s.coverImage&&v([s.coverImage]),s.assignedTo.length){const e=[];s.assignedTo.map((a=>{e.push({value:a.title,label:a.title,img:a.img})})),z(e)}if(s.labels.length){const e=[];s.labels.map((a=>{e.push({value:a,label:a})})),k(e)}}},onClosed:()=>{p(""),v([]),k([]),L("title",""),w(new Date),$(),R(Object(r.h)({})),z(null)},toggle:d,modalClassName:"modal-slide-in sidebar-kanban-modal",children:Object(C.jsxs)(c.H,{id:"form-modal-kanban",className:"kanban-task-modal",onSubmit:J((e=>{if(e.title.length){const a=[],t=[];I.length&&I.map((e=>{t.push({title:e.label,img:e.img})})),N.length&&N.map((e=>{a.push(e.label)})),R(Object(r.j)({...s,...e,dueDate:T,labels:a,description:g,assignedTo:t,...f.length&&"string"!==typeof f[0]?{coverImage:URL.createObjectURL(f[0])}:{}})),d()}else F("title")})),children:[Object(C.jsxs)("div",{className:"modal-header d-flex align-items-center justify-content-between mb-1",children:[Object(C.jsx)("h5",{className:"modal-title",children:"Update Task"}),Object(C.jsx)(m.a,{className:"fw-normal mt-25",size:16,onClick:d})]}),Object(C.jsx)(O.a,{options:{wheelPropagation:!1},children:Object(C.jsxs)(c.R,{className:"flex-grow-1 pb-sm-0 pb-3",children:[Object(C.jsxs)("div",{className:"mb-1",children:[Object(C.jsxs)(c.N,{className:"form-label",for:"task-title",children:["Title ",Object(C.jsx)("span",{className:"text-danger",children:"*"})]}),Object(C.jsx)(i.a,{name:"title",control:B,render:e=>{let{field:a}=e;return Object(C.jsx)(c.K,{id:"task-title",placeholder:"Title",className:"new-todo-item-title",invalid:P.title&&!0,...a})}}),P.title&&Object(C.jsx)(c.I,{children:"Please enter a valid task title"})]}),Object(C.jsxs)("div",{className:"mb-1",children:[Object(C.jsx)(c.N,{className:"form-label",for:"due-date",children:"Due Date"}),Object(C.jsx)(o.a,{id:"due-date",name:"due-date",value:T,className:"form-control",options:{dateFormat:"Y-m-d"},onChange:e=>w(e[0])})]}),Object(C.jsxs)("div",{className:"mb-1",children:[Object(C.jsx)(c.N,{className:"form-label",for:"task-labels",children:"Labels"}),Object(C.jsx)(u.a,{isMulti:!0,value:N,id:"task-labels",isClearable:!1,options:S,className:"react-select",classNamePrefix:"select",theme:x.i,components:{Option:e=>{let{data:a,...l}=e;return Object(C.jsx)(h.p.Option,{...l,children:Object(C.jsx)(c.f,{color:`light-${t[a.label]}`,children:a.label})})}},onChange:e=>{k(null!==e?[...e]:[])}})]}),Object(C.jsxs)("div",{className:"mb-1",children:[Object(C.jsx)(c.N,{className:"form-label",for:"task-assignee",children:"Assignee"}),Object(C.jsx)(u.a,{isMulti:!0,id:"task-assignee",value:I,isClearable:!1,className:"react-select",classNamePrefix:"select",options:y,theme:x.i,onChange:e=>z(e),components:{Option:e=>{let{data:a,...t}=e;return Object(C.jsx)(h.p.Option,{...t,children:Object(C.jsxs)("div",{className:"d-flex align-items-center",children:[Object(C.jsx)("img",{className:"d-block rounded-circle me-50",src:a.img,height:"26",width:"26",alt:a.label}),Object(C.jsx)("p",{className:"mb-0",children:a.label})]})})}}})]}),Object(C.jsx)("div",{className:"mb-1",children:Object(C.jsxs)("div",{...D({className:"dropzone"}),children:[Object(C.jsx)("input",{...A()}),Object(C.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-column text-center",children:[Object(C.jsx)(j.a,{size:64}),Object(C.jsx)("h5",{children:"Drop Files here or click to upload"})]}),f.length?f.length&&"string"!==typeof f[0]?f.map((e=>Object(C.jsx)("img",{alt:e.name,className:"single-file-image img-fluid",src:URL.createObjectURL(e)},e.name))):"string"===typeof f[0]?Object(C.jsx)("img",{alt:"task-img",className:"single-file-image img-fluid",src:f[0]}):void 0:null]})}),Object(C.jsxs)("div",{className:"mb-1",children:[Object(C.jsx)(c.N,{className:"form-label",for:"task-desc",children:"Description"}),Object(C.jsx)(c.K,{type:"textarea",value:g,name:"text",id:"task-desc",rows:"3",placeholder:"Description...",onChange:e=>p(e.target.value)})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(c.i,{type:"submit",color:"primary",className:"me-1",children:"Update"}),Object(C.jsx)(c.i,{outline:!0,color:"secondary",onClick:()=>{if(p(""),L("title",store.selectedTask.title),w(store.selectedTask.dueDate),s.assignedTo.length){const e=[];s.assignedTo.map((a=>{e.push({value:a.title,label:a.title,img:a.img})})),z(e)}if(s.labels.length){const e=[];s.labels.map((a=>{e.push({value:a,label:a})})),k(e)}s.coverImage?v([s.coverImage]):v([])},children:"Reset"})]})]})})]})})},I=t(579),z=t(976),R=t(521),D=t(5),A=t.n(D),B=t(978),F=t(971);var L=e=>{const{task:a,labelColors:t,handleTaskSidebarToggle:l}=e,s=Object(n.b)();return Object(C.jsx)(c.l,{onClick:()=>{s(Object(r.h)(a)),l()},className:"task","data-board-id":a.boardId,"data-task-id":a.id,children:Object(C.jsxs)(c.m,{"data-task-id":a.id,children:[a.labels.length?Object(C.jsx)("div",{className:"mb-1",children:a.labels.map(((e,l)=>{const s=a.labels[a.labels.length-1]===e;return Object(C.jsx)(c.f,{pill:!0,label:e,color:`light-${t[e]}`,className:A()({"me-75":!s}),children:e},l)}))}):null,a.coverImage?Object(C.jsx)("img",{className:"img-fluid rounded task-img mb-1",alt:a.title,src:a.coverImage}):null,Object(C.jsx)("span",{className:"task-title",children:a.title}),a.attachments&&a.attachments.length||a.comments&&a.comments.length||a.assignedTo&&a.assignedTo.length?Object(C.jsxs)("div",{className:"task-footer d-flex align-items-center mt-1 "+(a.comments&&!a.comments.length&&a.attachments&&!a.attachments.length?"justify-content-end":"justify-content-between"),children:[a.attachments&&a.attachments.length||a.comments&&a.comments.length?Object(C.jsxs)("div",{className:"d-flex align-items-center",children:[a.attachments&&a.attachments.length?Object(C.jsxs)("div",{className:"d-flex align-items-center cursor-pointer me-75",children:[Object(C.jsx)(B.a,{size:16,className:"me-25"}),Object(C.jsx)("span",{children:a.attachments.length})]}):null,a.comments&&a.comments.length?Object(C.jsxs)("div",{className:"d-flex align-items-center cursor-pointer",children:[Object(C.jsx)(F.a,{size:16,className:"me-50"}),Object(C.jsx)("span",{children:a.comments.length})]}):null]}):null,a.assignedTo.length?Object(C.jsx)("div",{children:a.assignedTo.length?Object(C.jsx)(R.a,{data:a.assignedTo}):null}):null]}):null]})})};const $={taskTitle:""};var J=e=>{const{board:a,index:t,store:d,labelColors:o,handleTaskSidebarToggle:b}=e,[m,j]=Object(l.useState)(""),[h,u]=Object(l.useState)(null),g=Object(n.b)(),{reset:O,control:x,handleSubmit:p,formState:{errors:f}}=Object(i.e)({defaultValues:$});Object(l.useEffect)((()=>{j(a.title)}),[a.title]);const v=()=>{O(),u(null)},N=e=>{g(Object(r.b)({title:e.taskTitle,boardId:a.id})),v()};return Object(C.jsx)(l.Fragment,{children:Object(C.jsxs)("div",{className:"board-wrapper",children:[Object(C.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(C.jsx)("div",{className:"d-flex align-items-center board-header",children:Object(C.jsx)(c.K,{className:"board-title",value:m,onChange:e=>j(e.target.value)})}),Object(C.jsxs)(c.wb,{className:"more-options-dropdown",children:[Object(C.jsx)(c.G,{className:"btn-icon",color:"transparent",size:"sm",children:Object(C.jsx)(z.a,{size:20})}),Object(C.jsxs)(c.F,{end:!0,children:[Object(C.jsx)(c.E,{href:"/",onClick:e=>{e.preventDefault(),g(Object(r.c)(a.id))},children:"Clear Tasks"}),Object(C.jsx)(c.E,{href:"/",onClick:e=>{e.preventDefault(),g(Object(r.e)(a.id))},children:"Delete Board"})]})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(I.ReactSortable,{list:d.tasks,group:"shared-group",setList:()=>null,onChange:e=>{e.from.classList[1]===e.to.classList[1]&&g(Object(r.i)({taskId:e.item.dataset.taskId,targetTaskId:e.originalEvent.target.dataset.taskId}))},onAdd:e=>{g(Object(r.k)({taskId:e.item.dataset.taskId,boardId:e.item.dataset.boardId,newBoardId:e.to.classList[1].replace("board-","")}))},className:`tasks-wrapper board-${a.id}`,children:d.tasks.map(((e,t)=>e.boardId===a.id?Object(C.jsx)(L,{task:e,index:t,labelColors:o,handleTaskSidebarToggle:b},`${e.boardId}-${t}`):Object(C.jsx)(l.Fragment,{},`${e.boardId}-${t}`)))}),null===h||null!==h&&h!==a.id?Object(C.jsxs)(c.i,{size:"sm",color:"flat-secondary",onClick:()=>{O(),u(a.id)},children:[Object(C.jsx)(s.a,{size:14,className:"me-25"}),Object(C.jsx)("span",{className:"align-middle",children:"Add New Task"})]}):a.id===h?Object(C.jsxs)("form",{onSubmit:p(N),children:[Object(C.jsxs)("div",{className:"mb-1",children:[Object(C.jsx)(i.a,{name:"taskTitle",control:x,rules:{required:!0},render:e=>{let{field:{value:a,onChange:t}}=e;return Object(C.jsx)(c.K,{autoFocus:!0,rows:"2",value:a,type:"textarea",id:"task-title",onChange:t,placeholder:"Add Content",invalid:f.taskTitle&&!0,"aria-describedby":"validation-add-task"})}}),f.taskTitle&&Object(C.jsx)(c.J,{color:"danger",id:"validation-add-task",children:"Please enter a valid Task Title"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(c.i,{color:"primary",size:"sm",type:"submit",className:"me-75",children:"Add"}),Object(C.jsx)(c.i,{outline:!0,size:"sm",color:"secondary",onClick:v,children:"Cancel"})]})]}):null]})]})},t)};t(1445);const P={boardTitle:""},G={App:"info",UX:"success",Images:"warning",Forms:"success","Code Review":"danger","Charts & Maps":"primary"};a.default=()=>{const[e,a]=Object(l.useState)(!1),[t,d]=Object(l.useState)(!1),o=Object(n.b)(),b=Object(n.c)((e=>e.kanban)),{reset:m,control:j,handleSubmit:h,formState:{errors:u}}=Object(i.e)({defaultValues:P}),g=()=>{m(),d(!1)},O=e=>{o(Object(r.a)({title:e.boardTitle,id:e.boardTitle.toLowerCase().replace(/ /g,"-")})),g()},x=()=>a(!e);return Object(l.useEffect)((()=>{o(Object(r.f)()),o(Object(r.g)())}),[o]),b.boards.length?Object(C.jsxs)("div",{className:"app-kanban-wrapper",children:[b.boards.map(((e,a)=>{const t=b.boards[b.boards.length-1].id===e.id;return Object(C.jsx)(J,{store:b,board:e,labelColors:G,isLastBoard:t,index:`${e.id}-${a}`,handleTaskSidebarToggle:x},`${e.id}-${a}`)})),Object(C.jsx)("div",{className:"ms-1",style:{minWidth:150},children:t?t?Object(C.jsxs)("form",{onSubmit:h(O),children:[Object(C.jsxs)("div",{className:"mb-50",children:[Object(C.jsx)(i.a,{name:"boardTitle",control:j,rules:{required:!0},render:e=>{let{field:{value:a,onChange:t}}=e;return Object(C.jsx)(c.K,{autoFocus:!0,value:a,id:"board-title",onChange:t,placeholder:"Board Title",invalid:Boolean(u.boardTitle),"aria-describedby":"validation-add-board"})}}),u.boardTitle&&Object(C.jsx)(c.J,{color:"danger",id:"validation-add-board",children:"Please enter a valid Board Title"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(c.i,{color:"primary",size:"sm",type:"submit",className:"me-75",children:"Add"}),Object(C.jsx)(c.i,{outline:!0,size:"sm",color:"secondary",onClick:g,children:"Cancel"})]})]}):null:Object(C.jsxs)(c.i,{size:"sm",color:"light-secondary",onClick:()=>{m(),d(!0)},children:[Object(C.jsx)(s.a,{size:14,className:"me-25"}),Object(C.jsx)("span",{className:"align-middle",children:" Add Board"})]})}),Object(C.jsx)(w,{labelColors:G,sidebarOpen:e,selectedTask:b.selectedTask,handleTaskSidebarToggle:x})]}):null}},518:function(e,a,t){},521:function(e,a,t){"use strict";var l=t(1),s=t(5),i=t.n(s),c=t(102),n=t(501),r=t(12);a.a=e=>{const{data:a,tag:t,className:s}=e,d=t||"div";return Object(r.jsx)(d,{className:i()("avatar-group",{[s]:s}),children:a.map(((e,a)=>{const t=e.tag?e.tag:"div";return Object(r.jsxs)(l.Fragment,{children:[e.title?Object(r.jsx)(c.yb,{placement:e.placement,target:e.title.split(" ").join("-"),children:e.title}):null,e.meta?null:Object(r.jsx)(n.a,{tag:t,className:i()("pull-up",{[e.className]:e.className}),...e.title?{id:e.title.split(" ").join("-")}:{},...e,title:void 0,meta:void 0}),e.meta?Object(r.jsx)(t,{className:"d-flex align-items-center ps-1",children:e.meta}):null]},a)}))})}},652:function(e,a,t){}}]);
//# sourceMappingURL=54.ff183512.chunk.js.map